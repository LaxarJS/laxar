<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../laxar.theme/img/favicon.ico">
        <title>LaxarJS  v2.0.0</title>

        <link rel="stylesheet" href="../../../laxar.theme/css/pygments.css">
        <link href="../../../laxar.theme/css/style.min.css" rel="stylesheet">

    </head>

    <body class="documentation">

      <header class="navbar  navbar-fixed-top" role="navigation">
    <div class="container">

        <div class="navbar-header navbar-inverse">
           <button class="navbar-toggle"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
            <!-- Main title -->
            <a class="navbar-brand" href="http://www.laxarjs.org">
               <span class="ax-laxar-logo">Laxar<span>JS</span></span>
            </a>
         </div>

         <div class="navbar-collapse collapse navbar-inverse">
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         laxar <span class="caret"></span>
      </a>
         
         <ul class="dropdown-menu">
            
            <li><a href="../../../laxar-latest">laxar</a></li>
            
            <li><a href="../../../laxar-patterns-latest">laxar-patterns</a></li>
            
            <li><a href="../../../laxar-uikit-latest">laxar-uikit</a></li>
            
            <li><a href="../../../laxar-mocks-latest">laxar-mocks</a></li>
            
            <li><a href="../../../laxar-loader-latest">laxar-loader</a></li>
            
            <li><a href="../../../laxar-tooling-latest">laxar-tooling</a></li>
            
            <li><a href="../../../laxar-angular-adapter-latest">laxar-angular-adapter</a></li>
            
            <li><a href="../../../laxar-angular2-adapter-latest">laxar-angular2-adapter</a></li>
            
            <li><a href="../../../laxar-react-adapter-latest">laxar-react-adapter</a></li>
            
            <li><a href="../../../laxar-vue-adapter-latest">laxar-vue-adapter</a></li>
            
            <li><a href="../../../generator-laxarjs-latest">generator-laxarjs</a></li>
            
            <li><a href="../../../generator-laxarjs2-latest">generator-laxarjs2</a></li>
            
            <li><a href="../../../grunt-laxar-latest">grunt-laxar</a></li>
            
         </ul>
         
   </li>
</ul>
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         v2.0.0 <span class="caret"></span>
      </a>
      
      <ul class="dropdown-menu">
         
            <li class="ax-dropdown-headline">Latest</li>
            
               <li><a href="../../../laxar-v2-latest">v2.0.3</a></li>
            
               <li><a href="../../../laxar-v1-latest">v1.3.5</a></li>
            
               <li><a href="../../../laxar-v0-latest">v0.26.2</a></li>
            
            <li role="separator" class="divider"></li>
         
         <li class="ax-dropdown-headline">All Releases</li>
         
            <li><a href="../../../laxar-v2.0.3">v2.0.3</a></li>
         
            <li><a href="../../../laxar-v2.0.2">v2.0.2</a></li>
         
            <li><a href="../../../laxar-v2.0.1">v2.0.1</a></li>
         
            <li><a href="../../../laxar-v2.0.0">v2.0.0</a></li>
         
            <li><a href="../../../laxar-v1.3.5">v1.3.5</a></li>
         
            <li><a href="../../../laxar-v1.3.4">v1.3.4</a></li>
         
            <li><a href="../../../laxar-v1.3.3">v1.3.3</a></li>
         
            <li><a href="../../../laxar-v1.3.2">v1.3.2</a></li>
         
            <li><a href="../../../laxar-v1.3.1">v1.3.1</a></li>
         
            <li><a href="../../../laxar-v1.3.0">v1.3.0</a></li>
         
            <li><a href="../../../laxar-v1.2.10">v1.2.10</a></li>
         
            <li><a href="../../../laxar-v1.2.9">v1.2.9</a></li>
         
            <li><a href="../../../laxar-v1.2.8">v1.2.8</a></li>
         
            <li><a href="../../../laxar-v1.2.7">v1.2.7</a></li>
         
            <li><a href="../../../laxar-v1.2.6">v1.2.6</a></li>
         
            <li><a href="../../../laxar-v1.2.5">v1.2.5</a></li>
         
            <li><a href="../../../laxar-v1.2.4">v1.2.4</a></li>
         
            <li><a href="../../../laxar-v1.2.3">v1.2.3</a></li>
         
            <li><a href="../../../laxar-v1.2.2">v1.2.2</a></li>
         
            <li><a href="../../../laxar-v1.2.1">v1.2.1</a></li>
         
            <li><a href="../../../laxar-v1.2.0">v1.2.0</a></li>
         
            <li><a href="../../../laxar-v1.1.0">v1.1.0</a></li>
         
            <li><a href="../../../laxar-v1.0.5">v1.0.5</a></li>
         
            <li><a href="../../../laxar-v1.0.4">v1.0.4</a></li>
         
            <li><a href="../../../laxar-v1.0.3">v1.0.3</a></li>
         
            <li><a href="../../../laxar-v1.0.2">v1.0.2</a></li>
         
            <li><a href="../../../laxar-v1.0.1">v1.0.1</a></li>
         
            <li><a href="../../../laxar-v1.0.0">v1.0.0</a></li>
         
            <li><a href="../../../laxar-v0.26.2">v0.26.2</a></li>
         
            <li><a href="../../../laxar-v0.26.1">v0.26.1</a></li>
         
            <li><a href="../../../laxar-v0.26.0">v0.26.0</a></li>
         
            <li><a href="../../../laxar-v0.25.1">v0.25.1</a></li>
         
            <li><a href="../../../laxar-v0.25.0">v0.25.0</a></li>
         
            <li><a href="../../../laxar-v0.24.0">v0.24.0</a></li>
         
            <li><a href="../../../laxar-v0.23.3">v0.23.3</a></li>
         
            <li><a href="../../../laxar-v0.23.2">v0.23.2</a></li>
         
            <li><a href="../../../laxar-v0.23.1">v0.23.1</a></li>
         
            <li><a href="../../../laxar-v0.23.0">v0.23.0</a></li>
         
            <li><a href="../../../laxar-v0.22.2">v0.22.2</a></li>
         
            <li><a href="../../../laxar-v0.22.1">v0.22.1</a></li>
         
            <li><a href="../../../laxar-v0.22.0">v0.22.0</a></li>
         
            <li><a href="../../../laxar-v0.21.0">v0.21.0</a></li>
         
            <li><a href="../../../laxar-v0.20.1">v0.20.1</a></li>
         
            <li><a href="../../../laxar-v0.20.0">v0.20.0</a></li>
         
            <li><a href="../../../laxar-v0.19.1">v0.19.1</a></li>
         
            <li><a href="../../../laxar-v0.19.0">v0.19.0</a></li>
         
            <li><a href="../../../laxar-v0.18.2">v0.18.2</a></li>
         
            <li><a href="../../../laxar-v0.18.1">v0.18.1</a></li>
         
            <li><a href="../../../laxar-v0.18.0">v0.18.0</a></li>
         
            <li><a href="../../../laxar-v0.17.1">v0.17.1</a></li>
         
            <li><a href="../../../laxar-v0.17.0">v0.17.0</a></li>
         
            <li><a href="../../../laxar-v0.16.2">v0.16.2</a></li>
         
            <li><a href="../../../laxar-v0.16.1">v0.16.1</a></li>
         
            <li><a href="../../../laxar-v0.16.0">v0.16.0</a></li>
         
            <li><a href="../../../laxar-v0.15.0">v0.15.0</a></li>
         
            <li><a href="../../../laxar-v0.14.0">v0.14.0</a></li>
         
            <li><a href="../../../laxar-v0.13.3">v0.13.3</a></li>
         
            <li><a href="../../../laxar-v0.13.2">v0.13.2</a></li>
         
            <li><a href="../../../laxar-v0.13.1">v0.13.1</a></li>
         
            <li><a href="../../../laxar-v0.13.0">v0.13.0</a></li>
         
            <li><a href="../../../laxar-v0.12.1">v0.12.1</a></li>
         
            <li><a href="../../../laxar-v0.12.0">v0.12.0</a></li>
         
            <li><a href="../../../laxar-v0.11.1">v0.11.1</a></li>
         
            <li><a href="../../../laxar-v0.11.0">v0.11.0</a></li>
         
            <li><a href="../../../laxar-v0.10.1">v0.10.1</a></li>
         
            <li><a href="../../../laxar-v0.10.0">v0.10.0</a></li>
         
            <li><a href="../../../laxar-v0.9.11">v0.9.11</a></li>
         
            <li><a href="../../../laxar-v0.9.10">v0.9.10</a></li>
         
            <li><a href="../../../laxar-v0.9.9">v0.9.9</a></li>
         
            <li><a href="../../../laxar-v0.9.8">v0.9.8</a></li>
         
            <li><a href="../../../laxar-v0.9.7">v0.9.7</a></li>
         
            <li><a href="../../../laxar-v0.9.6">v0.9.6</a></li>
         
            <li><a href="../../../laxar-v0.9.5">v0.9.5</a></li>
         
            <li><a href="../../../laxar-v0.9.4">v0.9.4</a></li>
         
            <li><a href="../../../laxar-v0.9.3">v0.9.3</a></li>
         
            <li><a href="../../../laxar-v0.9.2">v0.9.2</a></li>
         
            <li><a href="../../../laxar-v0.9.1">v0.9.1</a></li>
         
            <li><a href="../../../laxar-v0.9.0">v0.9.0</a></li>
         
      </ul>
      
   </li>
</ul>

            <ul class="nav navbar-nav">
               
                  
               
                  
                     <li >
                        <a href="../../CHANGELOG/">Changelog</a>
                     </li>
                  
               
                  
               
                  
               
                  
               
                  
               
                  
               
                  
               
                  
               
               
                <!-- Repo link -->
                
                <li>
                    <a class="ax-external" href="https://github.com/LaxarJS/laxar/tree/v2.0.0">
                       <i class="fa fa-github"></i> GitHub
                    </a>
                </li>
                
            </ul>
            <a class="ax-navbar-additional"
               target="_blank"
               href="http://laxarjs.github.io/widget-browser/#/widgetBrowser">Widgets</a>
        </div>
    </div>
</header>

      <div class="container content">
        <div class="row">
           <sidebar class="col-sm-4 col-xs-12"><div class="bs-sidebar hidden-print" role="complementary">
   <h3>Documentation</h3>
   <ul class="nav bs-sidenav">
   
      
         
            <li class="main"><a title="README" href="../..#start">README</a></li>
         
      
   
      
         
         
      
   
      
         
            <li class="main"><a title="LaxarJS Concepts" href="../../concepts/#start">LaxarJS Concepts</a></li>
         
      
   
      
         
            <li class="main"><a title="LaxarJS Glossary" href="../../glossary/#start">LaxarJS Glossary</a></li>
         
      
   
      
         
            <li class="main"><a title="LaxarJS Troubleshooting" href="../../troubleshooting/#start">LaxarJS Troubleshooting</a></li>
         
      
   
      
         
            <li class="main"><a title="Why LaxarJS?" href="../../why_laxar/#start">Why LaxarJS?</a></li>
         
      
   
      
         <li class="main ax-collapse ax-active" >
            <a class="ax-link"
               href="javascript:void(0)"
               title="API"
               data-toggle="collapse"
               data-target="#API"
               aria-expanded="false"
               aria-controls="collapseExample">API <span class="caret"></span></a>

            <ul class="nav subnav in"
               id="API">
               
               <li >
                  <a title="Overview" href="../#start">Overview</a>
               </li>
               
               <li >
                  <a title="adapter_utilities" href="../runtime.adapter_utilities/#start">adapter_utilities</a>
               </li>
               
               <li >
                  <a title="assert" href="../utilities.assert/#start">assert</a>
               </li>
               
               <li >
                  <a title="browser" href="../runtime.browser/#start">browser</a>
               </li>
               
               <li >
                  <a title="configuration" href="../runtime.configuration/#start">configuration</a>
               </li>
               
               <li >
                  <a title="configuration_mock" href="../testing.configuration_mock/#start">configuration_mock</a>
               </li>
               
               <li >
                  <a title="control_loader" href="../loaders.control_loader/#start">control_loader</a>
               </li>
               
               <li class="ax-active">
                  <a title="event_bus" href="./#start">event_bus</a>
               </li>
               
               <li >
                  <a title="event_bus_mock" href="../testing.event_bus_mock/#start">event_bus_mock</a>
               </li>
               
               <li >
                  <a title="flow_service" href="../runtime.flow_service/#start">flow_service</a>
               </li>
               
               <li >
                  <a title="flow_service_mock" href="../testing.flow_service_mock/#start">flow_service_mock</a>
               </li>
               
               <li >
                  <a title="heartbeat" href="../runtime.heartbeat/#start">heartbeat</a>
               </li>
               
               <li >
                  <a title="heartbeat_mock" href="../testing.heartbeat_mock/#start">heartbeat_mock</a>
               </li>
               
               <li >
                  <a title="i18n_mock" href="../testing.widget_services_i18n_mock/#start">i18n_mock</a>
               </li>
               
               <li >
                  <a title="laxar" href="../laxar/#start">laxar</a>
               </li>
               
               <li >
                  <a title="laxar-widget-service-mocks" href="../laxar-widget-service-mocks/#start">laxar-widget-service-mocks</a>
               </li>
               
               <li >
                  <a title="log" href="../runtime.log/#start">log</a>
               </li>
               
               <li >
                  <a title="log_mock" href="../testing.log_mock/#start">log_mock</a>
               </li>
               
               <li >
                  <a title="navigo_router" href="../runtime.navigo_router/#start">navigo_router</a>
               </li>
               
               <li >
                  <a title="object" href="../utilities.object/#start">object</a>
               </li>
               
               <li >
                  <a title="pages" href="../tooling.pages/#start">pages</a>
               </li>
               
               <li >
                  <a title="plain_adapter" href="../runtime.plain_adapter/#start">plain_adapter</a>
               </li>
               
               <li >
                  <a title="storage" href="../runtime.storage/#start">storage</a>
               </li>
               
               <li >
                  <a title="storage_mock" href="../testing.storage_mock/#start">storage_mock</a>
               </li>
               
               <li >
                  <a title="string" href="../utilities.string/#start">string</a>
               </li>
               
               <li >
                  <a title="tooling" href="../tooling.tooling/#start">tooling</a>
               </li>
               
               <li >
                  <a title="widget_services" href="../runtime.widget_services/#start">widget_services</a>
               </li>
               
               <li >
                  <a title="widget_services_area_helper_mock" href="../testing.widget_services_area_helper_mock/#start">widget_services_area_helper_mock</a>
               </li>
               
               <li >
                  <a title="widget_services_assets_mock" href="../testing.widget_services_assets_mock/#start">widget_services_assets_mock</a>
               </li>
               
               <li >
                  <a title="widget_services_i18n" href="../runtime.widget_services_i18n/#start">widget_services_i18n</a>
               </li>
               
               <li >
                  <a title="widget_services_storage_mock" href="../testing.widget_services_storage_mock/#start">widget_services_storage_mock</a>
               </li>
               
               <li >
                  <a title="widget_services_visibility" href="../runtime.widget_services_visibility/#start">widget_services_visibility</a>
               </li>
               
               <li >
                  <a title="widget_services_visibility_mock" href="../testing.widget_services_visibility_mock/#start">widget_services_visibility_mock</a>
               </li>
               
            </ul>
         </li>
      
   
      
         <li class="main ax-collapse " >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Contributing"
               data-toggle="collapse"
               data-target="#Contributing"
               aria-expanded="false"
               aria-controls="collapseExample">Contributing <span class="caret"></span></a>

            <ul class="nav subnav collapse"
               id="Contributing">
               
               <li >
                  <a title="LaxarJS Coding Styles" href="../../contributing/styleguide/#start">LaxarJS Coding Styles</a>
               </li>
               
            </ul>
         </li>
      
   
      
         <li class="main ax-collapse " >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Manuals"
               data-toggle="collapse"
               data-target="#Manuals"
               aria-expanded="false"
               aria-controls="collapseExample">Manuals <span class="caret"></span></a>

            <ul class="nav subnav collapse"
               id="Manuals">
               
               <li >
                  <a title="Overview" href="../../manuals/#start">Overview</a>
               </li>
               
               <li >
                  <a title="Assets and the Artifacts Bundle" href="../../manuals/asset_lookup/#start">Assets and the Artifacts Bundle</a>
               </li>
               
               <li >
                  <a title="Controls and Libraries" href="../../manuals/providing_controls/#start">Controls and Libraries</a>
               </li>
               
               <li >
                  <a title="Creating Themes" href="../../manuals/creating_themes/#start">Creating Themes</a>
               </li>
               
               <li >
                  <a title="Creating a Project from Scratch" href="../../manuals/project_from_scratch/#start">Creating a Project from Scratch</a>
               </li>
               
               <li >
                  <a title="Creating an Adapter for a new Widget Technology" href="../../manuals/adapters/#start">Creating an Adapter for a new Widget Technology</a>
               </li>
               
               <li >
                  <a title="Events and Publish-Subscribe" href="../../manuals/events/#start">Events and Publish-Subscribe</a>
               </li>
               
               <li >
                  <a title="Flow and Places" href="../../manuals/flow_and_places/#start">Flow and Places</a>
               </li>
               
               <li >
                  <a title="Infrastructure and Tools" href="../../manuals/infrastructure_and_tools/#start">Infrastructure and Tools</a>
               </li>
               
               <li >
                  <a title="Installing Controls" href="../../manuals/installing_controls/#start">Installing Controls</a>
               </li>
               
               <li >
                  <a title="Installing Third Party Widgets" href="../../manuals/installing_widgets/#start">Installing Third Party Widgets</a>
               </li>
               
               <li >
                  <a title="Internationalizing a Widget" href="../../manuals/i18n/#start">Internationalizing a Widget</a>
               </li>
               
               <li >
                  <a title="LaxarJS Configuration in an Application" href="../../manuals/configuration/#start">LaxarJS Configuration in an Application</a>
               </li>
               
               <li >
                  <a title="The <code>&quot;plain&quot;</code> Integration Technology" href="../../manuals/plain_adapter/#start">The <code>&quot;plain&quot;</code> Integration Technology</a>
               </li>
               
               <li >
                  <a title="Upgrading LaxarJS" href="../../manuals/upgrade_guide/#start">Upgrading LaxarJS</a>
               </li>
               
               <li >
                  <a title="Widget Services" href="../../manuals/widget_services/#start">Widget Services</a>
               </li>
               
               <li >
                  <a title="Widgets and Activities" href="../../manuals/widgets_and_activities/#start">Widgets and Activities</a>
               </li>
               
               <li >
                  <a title="Working with Visibility Events" href="../../manuals/visibility_events/#start">Working with Visibility Events</a>
               </li>
               
               <li >
                  <a title="Writing Compositions" href="../../manuals/writing_compositions/#start">Writing Compositions</a>
               </li>
               
               <li >
                  <a title="Writing Pages" href="../../manuals/writing_pages/#start">Writing Pages</a>
               </li>
               
            </ul>
         </li>
      
   
    </ul>
</div></sidebar>
           <main class="col-sm-8 col-xs-12 " role="main">

<a name="start" class="ax-anchor"></a>
<h1 id="event_bus"><a id="event_bus"></a>event_bus</h1>
<p>Module providing the EventBus factory.</p>
<p>To use the EventBus in a widget, request the <a href="../runtime.widget_services/#axEventBus"><code>axEventBus</code></a> injection, or
use the <code>eventBus</code> property on the <a href="../runtime.widget_services/#axContext"><code>axContext</code></a> injection.
In some cases, it may be useful to inject the global EventBus instance backing all widget instances of the
same bootstrapping context, by requesting the <a href="../runtime.widget_services/#axGlobalEventBus"><code>axGlobalEventBus</code></a>
injection.</p>
<h2 id="contents">Contents</h2>
<p><strong>Types</strong></p>
<ul>
<li><a href="#EventBus">EventBus</a><ul>
<li><a href="#EventBus.addInspector">EventBus.addInspector()</a></li>
<li><a href="#EventBus.subscribe">EventBus.subscribe()</a></li>
<li><a href="#EventBus.publish">EventBus.publish()</a></li>
<li><a href="#EventBus.publishAndGatherReplies">EventBus.publishAndGatherReplies()</a></li>
</ul>
</li>
</ul>
<h2 id="types">Types</h2>
<h3 id="eventbus"><a id="EventBus"></a>EventBus</h3>
<h4 id="eventbusaddinspector-inspector"><a id="EventBus.addInspector"></a>EventBus.addInspector( inspector )</h4>
<p>Adds an inspector, that gets notified when certain actions within the event bus take place. Currently
these actions may occur:</p>
<ul>
<li><code>subscribe</code>: a new subscriber registered for an event</li>
<li><code>publish</code>: an event is published but not yet delivered</li>
<li><code>deliver</code>: an event is actually delivered to a subscriber</li>
</ul>
<p>An inspector receives a map with the following properties:</p>
<ul>
<li><code>action</code>: one of the actions from above</li>
<li><code>source</code>: the origin of the <code>action</code></li>
<li><code>target</code>: the name of the event subscriber (<code>deliver</code> action only)</li>
<li><code>event</code>: the full name of the event or the subscribed event (<code>subscribe</code> action only)</li>
<li><code>eventObject</code>: the published event item (<code>publish</code> action only)</li>
<li><code>subscribedTo</code>: the event, possibly with omissions, the subscriber subscribed to (<code>deliver</code> action only)</li>
<li><code>cycleId</code>: the id of the event cycle</li>
</ul>
<p>The function returned by this method can be called to remove the inspector again and prevent it from
being called for future event bus actions.</p>
<h5 id="parameters">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>inspector</td>
<td><code>Function</code></td>
<td>the inspector function to add</td>
</tr>
</tbody>
</table>
<h5 id="returns">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Function</code></td>
<td>a function to remove the inspector</td>
</tr>
</tbody>
</table>
<h4 id="eventbussubscribe-eventname-subscriber-optionaloptions"><a id="EventBus.subscribe"></a>EventBus.subscribe( eventName, subscriber, optionalOptions )</h4>
<p>Subscribes to an event by name. An event name consists of so called <em>topics</em>, where each topic is
separated from another by dots (<code>.</code>). If a topic is omitted, this is treated as a wildcard. Note that
two dots in the middle or one dot at the beginning of an event name must remain, whereas a dot at the
end may be omitted. As such every event name has an intrinsic wildcard at its end. For example these are
all valid event names:</p>
<ul>
<li><code>some.event</code>: matches <code>some.event</code>, <code>some.event.again</code></li>
<li><code>.event</code>: matches <code>some.event</code>, <code>any.event</code>, <code>any.event.again</code></li>
<li><code>some..event</code>: matches <code>some.fancy.event</code>, <code>some.special.event</code></li>
</ul>
<p>Additionally <em>subtopics</em> are supported. Subtopics are fragments of a topic, separated from another by
simple dashes (<code>-</code>). Here only suffixes of subtopics may be omitted when subscribing. Thus subscribing
to <code>some.event</code> would match an event published with name <code>some.event-again</code> or even
<code>some.event-another.again</code>.</p>
<p><strong>The subscriber function</strong></p>
<p>When an event is delivered, the subscriber function receives two arguments:
The first one is the event object as it was published. If <code>optionalOptions.clone</code> yields <code>true</code> this is a
simple deep copy of the object (note that only properties passing a JSON-(de)serialization remain). If
<code>false</code> the object is frozen using <code>Object.freeze</code> recursively.</p>
<p>The second one is a meta object with these properties:</p>
<ul>
<li><code>name</code>: The name of the event as it actually was published (i.e. without wildcards).</li>
<li><code>cycleId</code>: The id of the cycle the event was published (and delivered) in</li>
<li><code>sender</code>: The id of the event sender, may be <code>null</code>.</li>
<li><code>initiator</code>: The id of the initiator of the cycle. Currently not implemented, thus always <code>null</code>.</li>
<li><code>options</code>: The options that were passed to <code>publish</code> or <code>publishAndGatherReplies</code> respectively.</li>
</ul>
<h5 id="parameters_1">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>eventName</td>
<td><code>String</code></td>
<td>the name of the event to subscribe to</td>
</tr>
<tr>
<td>subscriber</td>
<td><code>Function</code></td>
<td>a function to call whenever an event matching <code>eventName</code> is published</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Object</code></td>
<td>additional options for the subscribe action</td>
</tr>
<tr>
<td><em>optionalOptions.subscriber=null</em></td>
<td><code>String</code></td>
<td>the id of the subscriber. Default is <code>null</code></td>
</tr>
<tr>
<td><em>optionalOptions.clone=true</em></td>
<td><code>Boolean</code></td>
<td>if <code>false</code> the event will be send frozen to the subscriber, otherwise it will receive a deep copy. Default is <code>true</code></td>
</tr>
</tbody>
</table>
<h5 id="returns_1">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Function</code></td>
<td>a function that when called unsubscribes from this subscription again</td>
</tr>
</tbody>
</table>
<h4 id="eventbuspublish-eventname-optionalevent-optionaloptions"><a id="EventBus.publish"></a>EventBus.publish( eventName, optionalEvent, optionalOptions )</h4>
<p>Asynchronously publishes an event on the event bus. The returned promise will be enqueued as soon as this
event is delivered and, if during delivery a new event was enqueued, resolved after that new event was
delivered. If no new event is published during delivery of this event, the promise is instantly resolved.
To make this a bit clearer, lets assume we publish and thus enqueue an event at time <code>t</code>. It then will
be delivered at time <code>t+1</code>. At that precise moment the promise is enqueued to be resolved soon. We then
distinguish between two cases:</p>
<ul>
<li>At time <code>t+1</code> no subscriber publishes (i.e. enqueues) an event: Thus there is no event in the same
  cycle and the promise is also resolved at time <code>t+1</code>.</li>
<li>At least one subscriber publishes an event at time <code>t+1</code>: The promise is then scheduled to be resolved
  as soon as this event is delivered at time <code>t+2</code>.</li>
</ul>
<p>The implication of this is the following:</p>
<p>We have two collaborators, A and B. A listens to event b and B listens to event a.
Whenever A publishes a and B than instantly (i.e. in the same event cycle of the JavaScript runtime
where its subscriber function was called) <em>responds</em> by publishing b, b arrives at the subscriber
function of A, before the promise of A's publish action is resolved.
It is hence possible to observe possible effects of an event sent by oneself, under the conditions
mentioned above. Practically this is used internally for the implementation of
<a href="#EventBus.publishAndGatherReplies"><code>#EventBus.publishAndGatherReplies()</code></a>.</p>
<h5 id="parameters_2">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>eventName</td>
<td><code>String</code></td>
<td>the name of the event to publish</td>
</tr>
<tr>
<td><em>optionalEvent</em></td>
<td><code>Object</code></td>
<td>the event to publish</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Object</code></td>
<td>additional options for the publish action</td>
</tr>
<tr>
<td><em>optionalOptions.sender=null</em></td>
<td><code>String</code></td>
<td>the id of the event sender. Default is <code>null</code></td>
</tr>
<tr>
<td><em>optionalOptions.deliverToSender=true</em></td>
<td><code>Boolean</code></td>
<td>if <code>false</code> the event will not be send to subscribers whose subscriber name matches <code>optionalOptions.sender</code>, else all subscribers will receive the event. Default is <code>true</code></td>
</tr>
</tbody>
</table>
<h5 id="returns_2">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Promise</code></td>
<td>the delivery promise</td>
</tr>
</tbody>
</table>
<h4 id="eventbuspublishandgatherreplies-eventname-optionalevent-optionaloptions"><a id="EventBus.publishAndGatherReplies"></a>EventBus.publishAndGatherReplies( eventName, optionalEvent, optionalOptions )</h4>
<p>Publishes an event that follows the <em>request-will-did pattern</em> and awaits all replies. This pattern has
evolved over time and is of great use when handling the asynchronous nature of event bus events.</p>
<p>Certain rules need to be fulfilled: First the initiator needs to call this method with an event whose
name has the suffix <code>Request</code>, e.g. <code>takeActionRequest</code>. All collaborators that want to react to this
event then either do so in the same event cycle by sending a <code>didTakeAction</code> event or announce that they
will do something asynchronously by publishing a <code>willTakeAction</code> event. In the latter case they need to
broadcast the fulfillment of their action some time later by sending a <code>didTakeAction</code> event. Note that for
both events the same sender name needs to be given. Otherwise they cannot be mapped and the event bus
doesn't know if all asynchronous replies were already received.</p>
<p>Additionally a timer is started using either the globally configured <code>pendingDidTimeout</code> ms value or the
value provided as option to this method. If that timer expires before all <code>did*</code> events to all given
<code>will*</code> events were received, the error handler is called to handle the incident and the promise is
rejected with all responses received up to now.</p>
<h5 id="parameters_3">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>eventName</td>
<td><code>String</code></td>
<td>the name of the event to publish</td>
</tr>
<tr>
<td><em>optionalEvent</em></td>
<td><code>Object</code></td>
<td>the event to publish</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Object</code></td>
<td>additional options for the publish action</td>
</tr>
<tr>
<td><em>optionalOptions.sender=null</em></td>
<td><code>String</code></td>
<td>the id of the event sender. Default is <code>null</code></td>
</tr>
<tr>
<td><em>optionalOptions.pendingDidTimeout</em></td>
<td><code>Number</code></td>
<td>the timeout in milliseconds for pending did* events. Default is the timeout option used when the event bus instance was created</td>
</tr>
</tbody>
</table>
<h5 id="returns_3">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Promise</code></td>
<td>the delivery promise. It receives a list of all collected <code>did*</code> events and according meta information</td>
</tr>
</tbody>
</table></main>
        </div>
      </div>

      <footer>
   <div class="container">
      <div class="ax-copyright">
         <span>
            
         </span>

         <ul class="ax-social">
            
               <li><a class="fa fa-twitter-square" target="_blank" href="https://twitter.com/laxarjs"></a></li>
            
            
               <li><a class="fa fa-rss-square" target="_blank" title="Subscribe to our RSS-feed" href="http://laxarjs.org/rss"></a></li>
            
         </ul>
      </div>
   </div>
</footer>

      <script src="../../../laxar.theme/js/jquery-1.10.2.min.js"></script>
      <script src="../../../laxar.theme/js/bootstrap-3.0.3.min.js"></script>
      <script src="../../../laxar.theme/js/base.js"></script>
   </body>
</html>