<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="./../laxar.theme/img/favicon.ico">
        <title>LaxarJS React Adapter  v2.0.1</title>

        <link rel="stylesheet" href="./../laxar.theme/css/pygments.css">
        <link href="./../laxar.theme/css/style.min.css" rel="stylesheet">

    </head>

    <body class="documentation">

      <header class="navbar  navbar-fixed-top" role="navigation">
    <div class="container">

        <div class="navbar-header navbar-inverse">
           <button class="navbar-toggle"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
            <!-- Main title -->
            <a class="navbar-brand" href="http://www.laxarjs.org">
               <span class="ax-laxar-logo">Laxar<span>JS</span></span>
            </a>
         </div>

         <div class="navbar-collapse collapse navbar-inverse">
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         laxar-react-adapter <span class="caret"></span>
      </a>
         
         <ul class="dropdown-menu">
            
            <li><a href="./../laxar-latest">laxar</a></li>
            
            <li><a href="./../laxar-patterns-latest">laxar-patterns</a></li>
            
            <li><a href="./../laxar-uikit-latest">laxar-uikit</a></li>
            
            <li><a href="./../laxar-mocks-latest">laxar-mocks</a></li>
            
            <li><a href="./../laxar-loader-latest">laxar-loader</a></li>
            
            <li><a href="./../laxar-tooling-latest">laxar-tooling</a></li>
            
            <li><a href="./../laxar-angular-adapter-latest">laxar-angular-adapter</a></li>
            
            <li><a href="./../laxar-angular2-adapter-latest">laxar-angular2-adapter</a></li>
            
            <li><a href="./../laxar-react-adapter-latest">laxar-react-adapter</a></li>
            
            <li><a href="./../laxar-vue-adapter-latest">laxar-vue-adapter</a></li>
            
            <li><a href="./../generator-laxarjs-latest">generator-laxarjs</a></li>
            
            <li><a href="./../generator-laxarjs2-latest">generator-laxarjs2</a></li>
            
            <li><a href="./../grunt-laxar-latest">grunt-laxar</a></li>
            
         </ul>
         
   </li>
</ul>
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         v2.0.1 <span class="caret"></span>
      </a>
      
      <ul class="dropdown-menu">
         
            <li class="ax-dropdown-headline">Latest</li>
            
               <li><a href="./../laxar-react-adapter-v2-latest">v2.0.1</a></li>
            
               <li><a href="./../laxar-react-adapter-v0-latest">v0.4.0</a></li>
            
            <li role="separator" class="divider"></li>
         
         <li class="ax-dropdown-headline">All Releases</li>
         
            <li><a href="./../laxar-react-adapter-v2.0.1">v2.0.1</a></li>
         
            <li><a href="./../laxar-react-adapter-v2.0.0">v2.0.0</a></li>
         
            <li><a href="./../laxar-react-adapter-v0.4.0">v0.4.0</a></li>
         
            <li><a href="./../laxar-react-adapter-v0.3.0">v0.3.0</a></li>
         
            <li><a href="./../laxar-react-adapter-v0.2.0">v0.2.0</a></li>
         
            <li><a href="./../laxar-react-adapter-v0.1.0">v0.1.0</a></li>
         
      </ul>
      
   </li>
</ul>

            <ul class="nav navbar-nav">
               
                  
               
                  
                     <li >
                        <a href="CHANGELOG/">Changelog</a>
                     </li>
                  
               
               
                <!-- Repo link -->
                
                <li>
                    <a class="ax-external" href="https://github.com/LaxarJS/laxar-react-adapter/tree/v2.0.1">
                       <i class="fa fa-github"></i> GitHub
                    </a>
                </li>
                
            </ul>
            <a class="ax-navbar-additional"
               target="_blank"
               href="http://laxarjs.github.io/widget-browser/#/widgetBrowser">Widgets</a>
        </div>
    </div>
</header>

      <div class="container content">
        <div class="row">
           <sidebar class="col-sm-4 col-xs-12"><div class="bs-sidebar hidden-print" role="complementary">
   <h3>Documentation</h3>
   <ul class="nav bs-sidenav">
   
      
         
            <li class="main ax-active"><a title="README" href=".#start">README</a></li>
         
      
   
      
         
         
      
   
    </ul>
</div></sidebar>
           <main class="col-sm-8 col-xs-12 " role="main">

<a name="start" class="ax-anchor"></a>
<h1 id="laxarjs-react-adapter">LaxarJS React Adapter <a href="https://travis-ci.org/LaxarJS/laxar-react-adapter"><img alt="Build Status" src="https://travis-ci.org/LaxarJS/laxar.svg?branch=master" /></a></h1>
<blockquote>
<p>Create LaxarJS widgets and controls using React</p>
</blockquote>
<p><span class="laxar-external-documentation-hint">
   Take a look at the <a href="http://www.laxarjs.org/docs/laxar-react-adapter">documentation site</a> to browse documentation for all releases of this artifact.
</span></p>
<h2 id="installation">Installation</h2>
<div class="codehilite"><pre><span></span><span class="go">npm install --save laxar-react-adapter babel-plugin-transform-react-jsx babel-plugin-transform-class-properties</span>
</pre></div>


<p>This will automatically add React if not already installed.
These instructions assume that Babel is already configured with <a href="https://babeljs.io/learn-es2015/">ES2015</a> support, e.g. by using the <a href="https://laxarjs.org/laxar/">LaxarJS Yeoman generator</a>.</p>
<p>Load the React adapter module (<code>laxar-react-adapter</code>) into your project and pass it to LaxarJS <code>create</code>:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">create</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;laxar&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">reactAdapter</span> <span class="nx">from</span> <span class="s1">&#39;laxar-react-adapter&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">artifacts</span> <span class="nx">from</span> <span class="s1">&#39;laxar-loader/artifacts?flow=main&amp;theme=cube&#39;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">configuration</span> <span class="o">=</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">};</span>
<span class="nx">create</span><span class="p">(</span> <span class="p">[</span> <span class="nx">reactAdapter</span> <span class="cm">/* , ... */</span> <span class="p">],</span> <span class="nx">artifacts</span><span class="p">,</span> <span class="nx">configuration</span> <span class="p">)</span>
   <span class="p">.</span><span class="nx">flow</span><span class="p">(</span> <span class="cm">/* ... name, element ... */</span> <span class="p">)</span>
   <span class="p">.</span><span class="nx">bootstrap</span><span class="p">();</span>
</pre></div>


<h3 id="webpack-configuration">webpack Configuration</h3>
<p>If you did not use the Yeoman generator to pre-configure webpack for React, your loader configuration will probably need to be adjusted.
For webpack to resolve JSX files and to process them using Babel, the configuration (usually <code>webpack.config.js</code>) needs to be adjusted:</p>
<div class="codehilite"><pre><span></span>   <span class="nx">resolve</span><span class="o">:</span> <span class="p">{</span> <span class="nx">extensions</span><span class="o">:</span> <span class="p">[</span> <span class="s1">&#39;.js&#39;</span><span class="p">,</span> <span class="s1">&#39;.jsx&#39;</span> <span class="p">]</span> <span class="p">},</span>
   <span class="nx">module</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">rules</span><span class="o">:</span> <span class="p">[</span>
         <span class="c1">// ...,</span>
         <span class="p">{</span>
            <span class="nx">test</span><span class="o">:</span> <span class="sr">/\.jsx?$/</span><span class="p">,</span>
            <span class="nx">exclude</span><span class="o">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span> <span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;./node_modules&#39;</span> <span class="p">);</span>
            <span class="nx">use</span><span class="o">:</span> <span class="s1">&#39;babel-loader&#39;</span>
         <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">}</span>
</pre></div>


<p>Finally include support for JSX in your <code>.babelrc</code>:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="c1">// ...</span>
   <span class="s2">&quot;plugins&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="c1">// ...,</span>
      <span class="s2">&quot;transform-class-properties&quot;</span><span class="p">,</span>
      <span class="s2">&quot;transform-react-jsx&quot;</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>For <a href="http://eslint.org/">ESLint</a> support, check out the <a href="https://www.npmjs.com/package/eslint-plugin-react">eslint-plugin-react</a> module.
That's it.</p>
<h2 id="usage">Usage</h2>
<p>With the adapter in place, you can now write widgets and controls using React.
The <a href="https://laxarjs.org/docs/generator-laxarjs2-latest/">LaxarJS Yeoman generator</a> can create implementation stubs for you, if you specify the integration technology <code>"react"</code>.
When creating widgets <em>manually</em>, make sure to set the <code>"integration.technology"</code> to <code>"react"</code> in the <code>widget.json</code>.</p>
<h3 id="creating-a-react-widget">Creating a React Widget</h3>
<p>Widgets can be created from a JSX file containing a basic widget component.</p>
<p>For example <code>my-new-widget.jsx</code>:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">injections</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;laxar-react-adapter&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyNewWidget</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
   <span class="kr">static</span> <span class="p">[</span> <span class="nx">injections</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;axFeatures&#39;</span> <span class="p">];</span>
   <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="p">[</span> <span class="nx">features</span> <span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">injections</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!</span> <span class="p">{</span> <span class="nx">features</span><span class="p">.</span><span class="nx">some</span><span class="p">.</span><span class="nx">config</span> <span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The component in this example is <em>injected</em> the <code>axFeatures</code> object.
This object can be used to access the widget instance configuration.
If a widget does not require any <code>injections</code>, the static property may be omitted.</p>
<p>Another injection called <code>axReactRender</code> is provided only when using <code>"react"</code> as the integration technology, and it can be used to update the widget DOM after a data change. When using component classes, this is not necessary, as <code>this.forceUpdate()</code> can be used instead. The following example uses the <code>axReactRender</code> injection in a functional component:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">injections</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;laxar-react-adapter&#39;</span><span class="p">;</span>

<span class="nx">MyNewWidget</span><span class="p">[</span> <span class="nx">injections</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;axReactRender&#39;</span> <span class="p">];</span>
<span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">MyNewWidget</span><span class="p">(</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span>
   <span class="kr">const</span> <span class="p">[</span> <span class="nx">reactRender</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">injections</span><span class="p">;</span>

   <span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span> <span class="nx">increment</span> <span class="p">}</span><span class="o">&gt;</span><span class="nx">Clicks</span><span class="o">:</span> <span class="p">{</span> <span class="nx">count</span> <span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>

   <span class="kd">function</span> <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span>
      <span class="o">++</span><span class="nx">count</span><span class="p">;</span>
      <span class="nx">reactRender</span><span class="p">();</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The render function is a no-op as long as the widget has not been attached to the DOM (e.g. while in a background-tab, or within a closed popup).
As soon as the widget has been attached to the page DOM, <code>axReactRender</code> calls the <code>forceUpdate()</code> method of the component.</p>
<p>Read the LaxarJS documentation for more about <a href="https://laxarjs.org/docs/laxar-v2-latest/manuals/widgets_and_activities/">creating widgets and activities</a> and the <a href="https://laxarjs.org/docs/laxar-v2-latest/manuals/widget_services/">available injections</a>.</p>
<h4 id="providing-a-widget-area-to-embed-other-widgets">Providing a Widget Area to embed other Widgets</h4>
<p>LaxarJS widgets can provide widget areas in their own HTML template.
These areas can then be referenced from within page definitions in order to add widgets to them.
To create such a widget with React, the component <code>AxWidgetArea</code> is provided by the adapter.</p>
<p>An AxWidgetArea instance accepts the following React props:</p>
<ul>
<li>
<p><em>name</em> (<code>String</code>): the local name of the widget area <em>(required)</em>.
  This is the part after the <code>.</code> in the page definition. Must be constant</p>
</li>
<li>
<p><em>axAreaHelper</em> (<code>Object</code>): the widget injection <code>axAreaHelper</code> <em>(required)</em></p>
</li>
<li>
<p><em>axVisibility</em> (<code>Object</code>): the widget injection <code>axVisibility</code>.
  This is required for the area visibility to ever be <code>false</code></p>
</li>
<li>
<p><em>className</em> (<code>String</code>, <code>Object</code>): forwarded to the <code>className</code> of the generated container DIV</p>
</li>
<li>
<p><em>visible</em> (<code>Boolean</code>): <code>false</code> if the widget area should be hidden (default: <code>true</code>).
  The area will be hidden using CSS <code>display: none</code>, and will be kept in the DOM</p>
</li>
</ul>
<p>Here is an example of a <code>"react"</code> widget providing a widget area "myContent" (accessible in the page as <code>&lt;widget-id&gt;.myContent</code>):</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">AxWidgetArea</span><span class="p">,</span> <span class="nx">injections</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;laxar-react-adapter&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyNewWidget</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
   <span class="kr">static</span> <span class="p">[</span> <span class="nx">injections</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;axAreaHelper&#39;</span> <span class="p">];</span>

   <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="p">[</span> <span class="nx">areaHelper</span> <span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">injections</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">AxWidgetArea</span> <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;myContent&#39;</span> <span class="nx">axAreaHelper</span><span class="o">=</span><span class="p">{</span> <span class="nx">areaHelper</span> <span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>In this example the widget area is always visible.
For the visibility to change at runtime, the additional injection <code>axVisibility</code> is required.
We're using React's <code>setState</code> to trigger change detection and automatic re-rending of the component.</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">AxWidgetArea</span><span class="p">,</span> <span class="nx">injections</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;laxar-react-adapter&#39;</span><span class="p">;</span>


<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyNewWidget</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
   <span class="kr">static</span> <span class="p">[</span> <span class="nx">injections</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;axAreaHelper&#39;</span><span class="p">,</span> <span class="s1">&#39;axVisibility&#39;</span> <span class="p">];</span>
   <span class="nx">constructor</span><span class="p">(</span> <span class="nx">props</span> <span class="p">)</span> <span class="p">{</span>
      <span class="kr">super</span><span class="p">(</span> <span class="nx">props</span> <span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
         <span class="nx">showing</span><span class="o">:</span> <span class="kc">true</span>
      <span class="p">}</span>
   <span class="p">}</span>
   <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="p">[</span> <span class="nx">areaHelper</span><span class="p">,</span> <span class="nx">visibility</span> <span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">injections</span><span class="p">;</span>
      <span class="kr">const</span> <span class="nx">toggleShowing</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
         <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">prev</span> <span class="p">=&gt;</span> <span class="p">({</span> <span class="nx">showing</span><span class="o">:</span> <span class="o">!</span><span class="nx">prev</span><span class="p">.</span><span class="nx">showing</span> <span class="p">}));</span>
      <span class="p">};</span>
      <span class="k">return</span> <span class="p">(</span>
         <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span> <span class="nx">toggleShowing</span> <span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">AxWidgetArea</span>
               <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;myContent&#39;</span>
               <span class="nx">visible</span><span class="o">=</span><span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">showing</span> <span class="p">}</span>
               <span class="nx">axAreaHelper</span><span class="o">=</span><span class="p">{</span> <span class="nx">areaHelper</span> <span class="p">}</span>
               <span class="nx">axVisibility</span><span class="o">=</span><span class="p">{</span> <span class="nx">visibility</span> <span class="p">}</span> <span class="o">/&gt;</span>
         <span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="creating-a-react-control">Creating a React Control</h3>
<p>A <em>LaxarJS control</em> allows you to encapsulates one or more React components with associated CSS styles that can be overwritten by <em>LaxarJS themes.</em></p>
<p>React controls are implemented as regular JavaScript modules, just like <em>plain</em> LaxarJS controls:</p>
<div class="codehilite"><pre><span></span><span class="c1">// my-new-control.jsx</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">MyNewControl</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
   <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s1">&#39;my-new-control&#39;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Select <code>"react"</code> as the integration technology when you generate the control with the LaxarJS Yeoman generator, or set it as the <code>"integration.technology"</code> of the <code>control.json</code> descriptor when creating a control manually:</p>
<div class="codehilite"><pre><span></span><span class="c1">// control.json</span>
<span class="p">{</span>
   <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;my-new-control&quot;</span><span class="p">,</span>
   <span class="s2">&quot;integration&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;technology&quot;</span><span class="o">:</span> <span class="s2">&quot;react&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Widgets can access the control by loading its module, or by requesting it through the <a href="https://laxarjs.org/docs/laxar-v2-latest/api/runtime.widget_services/#axControls">axControls</a> injection.
The latter is <em>recommended</em> as it does not depend as much on the project-specific loader configuration:</p>
<div class="codehilite"><pre><span></span><span class="c1">// my-new-widget.jsx</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">injections</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;laxar-react-adapter&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">class</span> <span class="nx">MyNewWidget</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
   <span class="kr">static</span> <span class="p">[</span> <span class="nx">injections</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;axControls&#39;</span> <span class="p">];</span>
   <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="p">[</span> <span class="nx">controls</span> <span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">injections</span><span class="p">;</span>
      <span class="kr">const</span> <span class="p">{</span> <span class="nx">MyReactControl</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">controls</span><span class="p">.</span><span class="nx">provide</span><span class="p">(</span> <span class="s1">&#39;my-new-control&#39;</span> <span class="p">);</span>
      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!</span> <span class="o">&lt;</span><span class="nx">MyReactControl</span> <span class="o">/&gt;&lt;</span><span class="err">/div&gt;;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>For this to work the widget needs to list their controls in the <code>"controls"</code> section of the descriptor, which also ensures that CSS theming works:</p>
<div class="codehilite"><pre><span></span><span class="c1">// widget.json</span>
<span class="p">{</span>
   <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;my-new-widget&quot;</span><span class="p">,</span>
   <span class="s2">&quot;integration&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;technology&quot;</span><span class="o">:</span> <span class="s2">&quot;react&quot;</span><span class="p">,</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;widget&quot;</span>
   <span class="p">},</span>
   <span class="s2">&quot;controls&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;my-new-control&quot;</span> <span class="p">],</span>
   <span class="s2">&quot;features&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Read the LaxarJS documentation for general information on <a href="https://laxarjs.org/docs/laxar-v2-latest/manuals/providing_controls">providing controls</a>.</p>
<h3 id="testing-with-laxarjs-mocks">Testing with LaxarJS Mocks</h3>
<p>Starting with <a href="https://laxarjs.org/docs/laxar-mocks-v2-latest/">laxar-mocks</a> v2.0.0, you can easily create tests with the <code>setupForWidget</code> function.
Simply write your specs like this:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">axMocks</span> <span class="nx">from</span> <span class="s1">&#39;laxar-mocks&#39;</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span> <span class="s1">&#39;The my-counter-widget&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>

   <span class="nx">beforeEach</span><span class="p">(</span> <span class="nx">axMocks</span><span class="p">.</span><span class="nx">setupForWidget</span><span class="p">()</span> <span class="p">);</span>
   <span class="nx">beforeEach</span><span class="p">(</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">axMocks</span><span class="p">.</span><span class="nx">widget</span><span class="p">.</span><span class="nx">configure</span><span class="p">(</span> <span class="p">{</span> <span class="nx">someFeature</span><span class="o">:</span> <span class="s1">&#39;someConfigValue&#39;</span> <span class="p">}</span> <span class="p">);</span>
   <span class="p">}</span> <span class="p">);</span>

   <span class="nx">beforeEach</span><span class="p">(</span> <span class="nx">axMocks</span><span class="p">.</span><span class="nx">widget</span><span class="p">.</span><span class="nx">load</span> <span class="p">);</span>

   <span class="kd">let</span> <span class="nx">widgetDom</span><span class="p">;</span>
   <span class="nx">beforeEach</span><span class="p">(</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">widgetDom</span> <span class="o">=</span> <span class="nx">axMocks</span><span class="p">.</span><span class="nx">widget</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span> <span class="p">}</span> <span class="p">);</span>

   <span class="c1">// ... tests ...</span>

   <span class="nx">afterEach</span><span class="p">(</span> <span class="nx">axMocks</span><span class="p">.</span><span class="nx">tearDown</span> <span class="p">);</span>
<span class="p">}</span> <span class="p">);</span>
</pre></div>


<h3 id="building-the-adapter-from-source">Building the Adapter from Source</h3>
<p>Instead of using a pre-compiled library within a project, you can also clone this repository:</p>
<div class="codehilite"><pre><span></span>git clone https://github.com/LaxarJS/laxar-react-adapter.git
<span class="nb">cd</span> laxar-react-adapter
npm install
</pre></div>


<p>To see changes in your application, either configure your project to work with the sources (e.g. by using webpack), or rebuild the webpack bundles by running <code>npm run dist</code>.</p>
<p>To run the automated karma tests:</p>
<div class="codehilite"><pre><span></span>npm <span class="nb">test</span>
</pre></div>


<p>To generate HTML spec runners for opening in your web browser, so that you can e.g. use the browser's developer tools:</p>
<div class="codehilite"><pre><span></span>npm  start
</pre></div>


<p>Now you can select a spec-runner by browsing to http://localhost:8080/dist/spec/.</p></main>
        </div>
      </div>

      <footer>
   <div class="container">
      <div class="ax-copyright">
         <span>
            
         </span>

         <ul class="ax-social">
            
               <li><a class="fa fa-twitter-square" target="_blank" href="https://twitter.com/laxarjs"></a></li>
            
            
               <li><a class="fa fa-rss-square" target="_blank" title="Subscribe to our RSS-feed" href="http://laxarjs.org/rss"></a></li>
            
         </ul>
      </div>
   </div>
</footer>

      <script src="./../laxar.theme/js/jquery-1.10.2.min.js"></script>
      <script src="./../laxar.theme/js/bootstrap-3.0.3.min.js"></script>
      <script src="./../laxar.theme/js/base.js"></script>
   </body>
</html>