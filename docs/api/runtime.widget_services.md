
# <a name="widget_services"></a>widget_services

Factory for the services that are available to the controller of a widget, regardless of the underlying
view framework.

## Contents

**Module Members**

- [axAreaHelper](#axAreaHelper)
- [axAssets](#axAssets)
- [axConfiguration](#axConfiguration)
- [axContext](#axContext)
- [axGlobalLog](#axGlobalLog)
- [axLog](#axLog)
- [widget](#widget)

**Types**

- [AxContext](#AxContext)
  - [AxContext.eventBus](#AxContext.eventBus)
  - [AxContext.features](#AxContext.features)
  - [AxContext.id](#AxContext.id)
  - [AxContext.log](#AxContext.log)
- [AxAreaHelper](#AxAreaHelper)
  - [AxAreaHelper.fullName()](#AxAreaHelper.fullName)
  - [AxAreaHelper.localName()](#AxAreaHelper.localName)
  - [AxAreaHelper.register()](#AxAreaHelper.register)
- [AxAssets](#AxAssets)
  - [AxAssets.url](#AxAssets.url)
  - [AxAssets.forTheme](#AxAssets.forTheme)
  - [AxAssets.urlForTheme](#AxAssets.urlForTheme)

## Module Members

#### <a name="axAreaHelper"></a>axAreaHelper [`AxAreaHelper`](#AxAreaHelper)

area helper service instance

#### <a name="axAssets"></a>axAssets [`AxAssets`](#AxAssets)

widget asset accessor instance

#### <a name="axConfiguration"></a>axConfiguration [`Configuration`](runtime.configuration.md#Configuration)

interface to the configuration the application was bootstrapped with

#### <a name="axContext"></a>axContext [`AxContext`](#AxContext)

context information and service wrapper for the widget that can for example be used with
[LaxarJS Patterns](https://github.com/LaxarJS/laxar-patterns)

#### <a name="axGlobalLog"></a>axGlobalLog [`Logger`](runtime.log.md#Logger)

the global logger instance

#### <a name="axLog"></a>axLog [`Logger`](runtime.log.md#Logger)

the widget logger instance TODO

#### <a name="widget"></a>widget `Object`

Some information regarding the widget instance.

The following fields are available:
- `area`:

## Types

### <a name="AxContext"></a>AxContext

#### <a name="AxContext.eventBus"></a>AxContext.eventBus()

The event bus instance of the widget. This is the same as [`#axEventBus`](#axEventBus).

#### <a name="AxContext.features"></a>AxContext.features()

The configured features of the widget. This is the same as [`#axFeatures`](#axFeatures).

#### <a name="AxContext.id"></a>AxContext.id()

The unique id generator function. This is the same as [`#axId`](#axId).

#### <a name="AxContext.log"></a>AxContext.log()

The widget local log instance. This is the same as [`#axLog`](#axLog).

### <a name="AxAreaHelper"></a>AxAreaHelper

#### <a name="AxAreaHelper.fullName"></a>AxAreaHelper.fullName( localAreaName )

Looks up the global name of a widget area within a widget, as generated by LaxarJS.
This is the reverse of [`#AxAreaHelper.localName()`](#AxAreaHelper.localName).

##### Parameters

| Property | Type | Description |
| -------- | ---- | ----------- |
| localAreaName | `String` |  the widget-local name of the area |

##### Returns

| Type | Description |
| ---- | ----------- |
| `String` |  the globally valid name of the area |

#### <a name="AxAreaHelper.localName"></a>AxAreaHelper.localName( fullAreaName )

Returns the local part of a global area name.
This is the reverse of [`#AxAreaHelper.fullName()`](#AxAreaHelper.fullName).

##### Parameters

| Property | Type | Description |
| -------- | ---- | ----------- |
| fullAreaName | `String` |  the global name of the area |

##### Returns

| Type | Description |
| ---- | ----------- |
| `String` |  the name of the area as it is known to the widget |

#### <a name="AxAreaHelper.register"></a>AxAreaHelper.register( localAreaName, element )

Registers a DOM element as area of a widget with the area helper.

##### Parameters

| Property | Type | Description |
| -------- | ---- | ----------- |
| localAreaName | `String` |  the widget-local name of the area |
| element | `HTMLElement` |  the element to register as widget area |

### <a name="AxAssets"></a>AxAssets

_Note:_ This service is a function with the [`#AxAssets.url()`](#AxAssets.url), [`#AxAssets.forTheme()`](#AxAssets.forTheme) and
[`#AxAssets.urlForTheme()`](#AxAssets.urlForTheme) functions as properties.

Resolves an asset located directly in the widget folder or a subfolder of it.
Valid assets are all non-binary files like JSON or text files.
For binary files there exists the [`#AxAssets.url`](#AxAssets.url) function.

Example:
```
function Controller( axAssets ) {
   axAssets( 'data.json' ).then( fileContent => { ... } );
}
```

##### Parameters

| Property | Type | Description |
| -------- | ---- | ----------- |
| name | `String` |  name of the asset to resolve |

#### <a name="AxAssets.url"></a>AxAssets.url( name )

Resolves the absolute url to the given asset located directly in the widget folder or a subfolder of
it.
This can then be safely used in e.g. `video` or `img` tags.

Example:
```
function Controller( axAssets ) {
   axAssets.url( 'tux.jpg' ).then( url => { img.src = url; } );
}
```

##### Parameters

| Property | Type | Description |
| -------- | ---- | ----------- |
| name | `String` |  name of the asset the url should be returned of |

##### Returns

| Type | Description |
| ---- | ----------- |
| `Promise` |  promise for the url |

#### <a name="AxAssets.forTheme"></a>AxAssets.forTheme( name )

Resolves an asset from one of the `*.theme` subfolders of the widget.
The folder from which the asset is taken, depends on the selected theme and the availability of the
file within that theme (See
[here](http://laxarjs.org/docs/laxar-latest/manuals/creating_themes/#how-the-runtime-finds-css) for
further information on theme asset lookup).
Valid assets are all non-binary files like JSON or text files.
For binary files there exists the [`#AxAssets.urlForTheme`](#AxAssets.urlForTheme) function.

Example:
```
function Controller( axAssets ) {
   axAssets.forTheme( 'some-template.html' ).then( template => { ... } );
}
```

##### Parameters

| Property | Type | Description |
| -------- | ---- | ----------- |
| name | `String` |  name of the asset to resolve |

##### Returns

| Type | Description |
| ---- | ----------- |
| `Promise` |  promise for the asset |

#### <a name="AxAssets.urlForTheme"></a>AxAssets.urlForTheme( name )

Resolves the absolute url to the given asset from one of the `*.theme` subfolders of the widget.
This can then be safely used in e.g. `video` or `img` tags.
The folder from which the asset is taken, depends on the selected theme and the availability of the
file within that theme (See
[here](http://laxarjs.org/docs/laxar-latest/manuals/creating_themes/#how-the-runtime-finds-css) for
further information on theme asset lookup).

Example:
```
function Controller( axAssets ) {
   axAssets.urlForTheme( 'icon.jpg' ).then( url => { img.src = url; } );
}
```

##### Parameters

| Property | Type | Description |
| -------- | ---- | ----------- |
| name | `String` |  name of the asset the url should be returned of |

##### Returns

| Type | Description |
| ---- | ----------- |
| `Promise` |  promise for the url |
