<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../laxar.theme/img/favicon.ico">
        <title>LaxarJS v0.9.11</title>

        <link rel="stylesheet" href="../../../laxar.theme/css/pygments.css">
        <link href="../../../laxar.theme/css/style.min.css" rel="stylesheet">

    </head>

    <body class="documentation">

      <header class="navbar  navbar-fixed-top" role="navigation">
    <div class="container">

        <div class="navbar-header navbar-inverse">
           <button class="navbar-toggle"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
            <!-- Main title -->
            <a class="navbar-brand" href="http://www.laxarjs.org">
               <span class="ax-laxar-logo">Laxar<span>JS</span></span>
            </a>
         </div>

         <div class="navbar-collapse collapse navbar-inverse">
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         laxar <span class="caret"></span>
      </a>
         
         <ul class="dropdown-menu">
            
            <li><a href="../../../laxar-latest">laxar</a></li>
            
            <li><a href="../../../laxar-patterns-latest">laxar-patterns</a></li>
            
            <li><a href="../../../laxar-uikit-latest">laxar-uikit</a></li>
            
            <li><a href="../../../laxar-mocks-latest">laxar-mocks</a></li>
            
            <li><a href="../../../laxar-loader-latest">laxar-loader</a></li>
            
            <li><a href="../../../laxar-tooling-latest">laxar-tooling</a></li>
            
            <li><a href="../../../laxar-angular-adapter-latest">laxar-angular-adapter</a></li>
            
            <li><a href="../../../laxar-angular2-adapter-latest">laxar-angular2-adapter</a></li>
            
            <li><a href="../../../laxar-react-adapter-latest">laxar-react-adapter</a></li>
            
            <li><a href="../../../laxar-vue-adapter-latest">laxar-vue-adapter</a></li>
            
            <li><a href="../../../generator-laxarjs-latest">generator-laxarjs</a></li>
            
            <li><a href="../../../generator-laxarjs2-latest">generator-laxarjs2</a></li>
            
            <li><a href="../../../grunt-laxar-latest">grunt-laxar</a></li>
            
         </ul>
         
   </li>
</ul>
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         v0.9.11 <span class="caret"></span>
      </a>
      
      <ul class="dropdown-menu">
         
            <li class="ax-dropdown-headline">Latest</li>
            
               <li><a href="../../../laxar-v2-latest">v2.0.3</a></li>
            
               <li><a href="../../../laxar-v1-latest">v1.3.5</a></li>
            
               <li><a href="../../../laxar-v0-latest">v0.26.2</a></li>
            
            <li role="separator" class="divider"></li>
         
         <li class="ax-dropdown-headline">All Releases</li>
         
            <li><a href="../../../laxar-v2.0.3">v2.0.3</a></li>
         
            <li><a href="../../../laxar-v2.0.2">v2.0.2</a></li>
         
            <li><a href="../../../laxar-v2.0.1">v2.0.1</a></li>
         
            <li><a href="../../../laxar-v2.0.0">v2.0.0</a></li>
         
            <li><a href="../../../laxar-v1.3.5">v1.3.5</a></li>
         
            <li><a href="../../../laxar-v1.3.4">v1.3.4</a></li>
         
            <li><a href="../../../laxar-v1.3.3">v1.3.3</a></li>
         
            <li><a href="../../../laxar-v1.3.2">v1.3.2</a></li>
         
            <li><a href="../../../laxar-v1.3.1">v1.3.1</a></li>
         
            <li><a href="../../../laxar-v1.3.0">v1.3.0</a></li>
         
            <li><a href="../../../laxar-v1.2.10">v1.2.10</a></li>
         
            <li><a href="../../../laxar-v1.2.9">v1.2.9</a></li>
         
            <li><a href="../../../laxar-v1.2.8">v1.2.8</a></li>
         
            <li><a href="../../../laxar-v1.2.7">v1.2.7</a></li>
         
            <li><a href="../../../laxar-v1.2.6">v1.2.6</a></li>
         
            <li><a href="../../../laxar-v1.2.5">v1.2.5</a></li>
         
            <li><a href="../../../laxar-v1.2.4">v1.2.4</a></li>
         
            <li><a href="../../../laxar-v1.2.3">v1.2.3</a></li>
         
            <li><a href="../../../laxar-v1.2.2">v1.2.2</a></li>
         
            <li><a href="../../../laxar-v1.2.1">v1.2.1</a></li>
         
            <li><a href="../../../laxar-v1.2.0">v1.2.0</a></li>
         
            <li><a href="../../../laxar-v1.1.0">v1.1.0</a></li>
         
            <li><a href="../../../laxar-v1.0.5">v1.0.5</a></li>
         
            <li><a href="../../../laxar-v1.0.4">v1.0.4</a></li>
         
            <li><a href="../../../laxar-v1.0.3">v1.0.3</a></li>
         
            <li><a href="../../../laxar-v1.0.2">v1.0.2</a></li>
         
            <li><a href="../../../laxar-v1.0.1">v1.0.1</a></li>
         
            <li><a href="../../../laxar-v1.0.0">v1.0.0</a></li>
         
            <li><a href="../../../laxar-v0.26.2">v0.26.2</a></li>
         
            <li><a href="../../../laxar-v0.26.1">v0.26.1</a></li>
         
            <li><a href="../../../laxar-v0.26.0">v0.26.0</a></li>
         
            <li><a href="../../../laxar-v0.25.1">v0.25.1</a></li>
         
            <li><a href="../../../laxar-v0.25.0">v0.25.0</a></li>
         
            <li><a href="../../../laxar-v0.24.0">v0.24.0</a></li>
         
            <li><a href="../../../laxar-v0.23.3">v0.23.3</a></li>
         
            <li><a href="../../../laxar-v0.23.2">v0.23.2</a></li>
         
            <li><a href="../../../laxar-v0.23.1">v0.23.1</a></li>
         
            <li><a href="../../../laxar-v0.23.0">v0.23.0</a></li>
         
            <li><a href="../../../laxar-v0.22.2">v0.22.2</a></li>
         
            <li><a href="../../../laxar-v0.22.1">v0.22.1</a></li>
         
            <li><a href="../../../laxar-v0.22.0">v0.22.0</a></li>
         
            <li><a href="../../../laxar-v0.21.0">v0.21.0</a></li>
         
            <li><a href="../../../laxar-v0.20.1">v0.20.1</a></li>
         
            <li><a href="../../../laxar-v0.20.0">v0.20.0</a></li>
         
            <li><a href="../../../laxar-v0.19.1">v0.19.1</a></li>
         
            <li><a href="../../../laxar-v0.19.0">v0.19.0</a></li>
         
            <li><a href="../../../laxar-v0.18.2">v0.18.2</a></li>
         
            <li><a href="../../../laxar-v0.18.1">v0.18.1</a></li>
         
            <li><a href="../../../laxar-v0.18.0">v0.18.0</a></li>
         
            <li><a href="../../../laxar-v0.17.1">v0.17.1</a></li>
         
            <li><a href="../../../laxar-v0.17.0">v0.17.0</a></li>
         
            <li><a href="../../../laxar-v0.16.2">v0.16.2</a></li>
         
            <li><a href="../../../laxar-v0.16.1">v0.16.1</a></li>
         
            <li><a href="../../../laxar-v0.16.0">v0.16.0</a></li>
         
            <li><a href="../../../laxar-v0.15.0">v0.15.0</a></li>
         
            <li><a href="../../../laxar-v0.14.0">v0.14.0</a></li>
         
            <li><a href="../../../laxar-v0.13.3">v0.13.3</a></li>
         
            <li><a href="../../../laxar-v0.13.2">v0.13.2</a></li>
         
            <li><a href="../../../laxar-v0.13.1">v0.13.1</a></li>
         
            <li><a href="../../../laxar-v0.13.0">v0.13.0</a></li>
         
            <li><a href="../../../laxar-v0.12.1">v0.12.1</a></li>
         
            <li><a href="../../../laxar-v0.12.0">v0.12.0</a></li>
         
            <li><a href="../../../laxar-v0.11.1">v0.11.1</a></li>
         
            <li><a href="../../../laxar-v0.11.0">v0.11.0</a></li>
         
            <li><a href="../../../laxar-v0.10.1">v0.10.1</a></li>
         
            <li><a href="../../../laxar-v0.10.0">v0.10.0</a></li>
         
            <li><a href="../../../laxar-v0.9.11">v0.9.11</a></li>
         
            <li><a href="../../../laxar-v0.9.10">v0.9.10</a></li>
         
            <li><a href="../../../laxar-v0.9.9">v0.9.9</a></li>
         
            <li><a href="../../../laxar-v0.9.8">v0.9.8</a></li>
         
            <li><a href="../../../laxar-v0.9.7">v0.9.7</a></li>
         
            <li><a href="../../../laxar-v0.9.6">v0.9.6</a></li>
         
            <li><a href="../../../laxar-v0.9.5">v0.9.5</a></li>
         
            <li><a href="../../../laxar-v0.9.4">v0.9.4</a></li>
         
            <li><a href="../../../laxar-v0.9.3">v0.9.3</a></li>
         
            <li><a href="../../../laxar-v0.9.2">v0.9.2</a></li>
         
            <li><a href="../../../laxar-v0.9.1">v0.9.1</a></li>
         
            <li><a href="../../../laxar-v0.9.0">v0.9.0</a></li>
         
      </ul>
      
   </li>
</ul>

            <ul class="nav navbar-nav">
               
                  
               
                  
                     <li >
                        <a href="../../CHANGELOG/">Changelog</a>
                     </li>
                  
               
                  
               
                  
               
               
                <!-- Repo link -->
                
                <li>
                    <a class="ax-external" href="https://github.com/LaxarJS/laxar/tree/v0.9.11">
                       <i class="fa fa-github"></i> GitHub
                    </a>
                </li>
                
            </ul>
            <a class="ax-navbar-additional"
               target="_blank"
               href="http://laxarjs.github.io/widget-browser/#/widgetBrowser">Widgets</a>
        </div>
    </div>
</header>

      <div class="container content">
        <div class="row">
           <sidebar class="col-sm-4 col-xs-12"><div class="bs-sidebar hidden-print" role="complementary">
   <h3>Documentation</h3>
   <ul class="nav bs-sidenav">
   
      
         
            <li class="main"><a title="README" href="../..#start">README</a></li>
         
      
   
      
         
         
      
   
      
         <li class="main ax-collapse " >
            <a class="ax-link"
               href="javascript:void(0)"
               title="API"
               data-toggle="collapse"
               data-target="#API"
               aria-expanded="false"
               aria-controls="collapseExample">API <span class="caret"></span></a>

            <ul class="nav subnav collapse"
               id="API">
               
               <li >
                  <a title="Overview" href="../../api/#start">Overview</a>
               </li>
               
               <li >
                  <a title="laxar.md" href="../../api/laxar/#start">laxar.md</a>
               </li>
               
               <li >
                  <a title="lib-event_bus-event_bus.md" href="../../api/lib/event_bus/event_bus/#start">lib-event_bus-event_bus.md</a>
               </li>
               
               <li >
                  <a title="lib-i18n-i18n.md" href="../../api/lib/i18n/i18n/#start">lib-i18n-i18n.md</a>
               </li>
               
               <li >
                  <a title="lib-logging-level.md" href="../../api/lib/logging/level/#start">lib-logging-level.md</a>
               </li>
               
               <li >
                  <a title="lib-logging-log.md" href="../../api/lib/logging/log/#start">lib-logging-log.md</a>
               </li>
               
               <li >
                  <a title="lib-logging-log_context.md" href="../../api/lib/logging/log_context/#start">lib-logging-log_context.md</a>
               </li>
               
               <li >
                  <a title="lib-logging-logger.md" href="../../api/lib/logging/logger/#start">lib-logging-logger.md</a>
               </li>
               
               <li >
                  <a title="lib-testing-http_mock.md" href="../../api/lib/testing/http_mock/#start">lib-testing-http_mock.md</a>
               </li>
               
               <li >
                  <a title="lib-testing-jquery_mock.md" href="../../api/lib/testing/jquery_mock/#start">lib-testing-jquery_mock.md</a>
               </li>
               
               <li >
                  <a title="lib-testing-matchers.md" href="../../api/lib/testing/matchers/#start">lib-testing-matchers.md</a>
               </li>
               
               <li >
                  <a title="lib-testing-portal_mocks.md" href="../../api/lib/testing/portal_mocks/#start">lib-testing-portal_mocks.md</a>
               </li>
               
               <li >
                  <a title="lib-testing-portal_mocks_angular.md" href="../../api/lib/testing/portal_mocks_angular/#start">lib-testing-portal_mocks_angular.md</a>
               </li>
               
               <li >
                  <a title="lib-testing-run_spec.md" href="../../api/lib/testing/run_spec/#start">lib-testing-run_spec.md</a>
               </li>
               
               <li >
                  <a title="lib-testing-testing.md" href="../../api/lib/testing/testing/#start">lib-testing-testing.md</a>
               </li>
               
               <li >
                  <a title="lib-utilities-array.md" href="../../api/lib/utilities/array/#start">lib-utilities-array.md</a>
               </li>
               
               <li >
                  <a title="lib-utilities-assert.md" href="../../api/lib/utilities/assert/#start">lib-utilities-assert.md</a>
               </li>
               
               <li >
                  <a title="lib-utilities-object.md" href="../../api/lib/utilities/object/#start">lib-utilities-object.md</a>
               </li>
               
               <li >
                  <a title="lib-utilities-path.md" href="../../api/lib/utilities/path/#start">lib-utilities-path.md</a>
               </li>
               
               <li >
                  <a title="lib-utilities-storage.md" href="../../api/lib/utilities/storage/#start">lib-utilities-storage.md</a>
               </li>
               
               <li >
                  <a title="lib-utilities-string.md" href="../../api/lib/utilities/string/#start">lib-utilities-string.md</a>
               </li>
               
            </ul>
         </li>
      
   
      
         <li class="main ax-collapse ax-active" >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Manuals"
               data-toggle="collapse"
               data-target="#Manuals"
               aria-expanded="false"
               aria-controls="collapseExample">Manuals <span class="caret"></span></a>

            <ul class="nav subnav in"
               id="Manuals">
               
               <li >
                  <a title="Overview" href="../#start">Overview</a>
               </li>
               
               <li class="ax-active">
                  <a title="Internationalizing a widget (i18n)" href="./#start">Internationalizing a widget (i18n)</a>
               </li>
               
               <li >
                  <a title="Writing Pages" href="../writing_pages/#start">Writing Pages</a>
               </li>
               
            </ul>
         </li>
      
   
    </ul>
</div></sidebar>
           <main class="col-sm-8 col-xs-12 " role="main">

<a name="start" class="ax-anchor"></a>
<p><a href="../">&lt;&lt; return to the manuals</a></p>
<p>Preliminary readings:</p>
<ul>
<li><a href="widgets_and_activities.md">Widgets and Activities</a></li>
</ul>
<h1 id="internationalizing-a-widget-i18n">Internationalizing a widget (i18n)</h1>
<p>In LaxarJS, internationalization of widgets is optional.
Read on if you are interested in writing widgets that support multiple languages, and even switching them without reloading the page.</p>
<h2 id="concept-of-i18n-in-laxarjs">Concept of i18n in LaxarJS</h2>
<p>LaxarJS distinguishes <em>locales</em> and <em>language tags</em> for internationalization.
Each locale has a constant name like "default" or "customer" and a language tag like "en_US", which can change over time.
The language tag of a given locale can be modified through activities or widgets when the application is running.
To change the language tag of a locale an activity has to publish the <code>changeLocaleRequest.{locale}</code> event.</p>
<p>Example: To change the language tag of the locale <code>myLocale</code> to <code>de_DE</code>, the following event has to be published:</p>
<div class="codehilite"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">eventBus</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span> <span class="s1">&#39;changeLocaleRequest.myLocale.&#39;</span><span class="p">,</span>
    <span class="p">{</span> 
        <span class="nx">locale</span><span class="o">:</span> <span class="s1">&#39;myLocale&#39;</span><span class="p">,</span> 
        <span class="nx">languageTag</span><span class="o">:</span> <span class="s1">&#39;de_DE&#39;</span> 
    <span class="p">}</span>
<span class="p">);</span>
</pre></div>


<p>If a widget is interested in changes to <code>myLocale</code>, it would subscribe to the corresponding <code>didChangeLocale</code>-event, which is published by the LaxarJS flow-controller:</p>
<div class="codehilite"><pre><span></span><span class="nx">$scope</span><span class="p">.</span><span class="nx">eventBus</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span> <span class="s1">&#39;didChangeLocale.myLocale.&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">event</span> <span class="p">)</span> <span class="p">{</span>
   <span class="nx">ax</span><span class="p">.</span><span class="nx">log</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span> <span class="s1">&#39;I have received tag [0] for locale [1]&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">languageTag</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">locale</span> <span class="p">);</span>
<span class="p">}</span> <span class="p">);</span>
</pre></div>


<p>Widgets can use the language tags that they receive over the event bus to <em>localize</em> internationalized values.
Internationalized values are JSON-Objects which contain an entry for each supported language tag.
By convention, variables and properties that contain internationalized values are prefixed with <code>i18n</code>:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;i18nHtmlText&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;en_US&quot;</span><span class="p">:</span> <span class="s2">&quot;Upload file&quot;</span><span class="p">,</span>
    <span class="nt">&quot;de_DE&quot;</span><span class="p">:</span> <span class="s2">&quot;Datei hochladen&quot;</span>
<span class="p">}</span>
</pre></div>


<p>LaxarJS provides some tools which help to deal with i18n.
They are based on the events shown above, and demonstrated in the following section.</p>
<h2 id="writing-an-i18n-capable-widget">Writing an i18n-capable Widget</h2>
<p>To be able to localize internationalized values in templates, widgets can use the i18n-directives which are provided by Laxar-UiKit.
This is accomplished by adding the i18n control to the top-level entry <code>controls</code> in the <strong>widget.json</strong>.
If missing, this entry must be created:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;controls&quot;</span><span class="err">:</span> <span class="p">[</span>
    <span class="s2">&quot;laxar_uikit/controls/i18n&quot;</span>
<span class="p">]</span>
</pre></div>


<p>Next, we have to add a feature <code>i18n</code>.
It allows page authors to configure the name of the locale (e.g. "customer") to be used by this widget.
The actual language tag associated with that locale (for example en_GB) is then used to localize internationalized values.</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;i18n&quot;</span><span class="err">:</span> <span class="p">{</span>
   <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Which locale to use for displaying this widget.&quot;</span><span class="p">,</span>
   <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
   <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;locale&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
         <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;The topic under which to expect the locale for this widget.&quot;</span><span class="p">,</span>
         <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>If not already done, we import the Laxar-Patterns library into the widget controller (<strong>my_widget.js</strong>).
The i18n-handler offered by Laxar-Patterns subscribes the widget to the right <code>didChangeLocale</code>-events for us, by using the feature configuration that we added in the previous step:</p>
<div class="codehilite"><pre><span></span><span class="nx">define</span><span class="p">(</span> <span class="p">[</span>   
   <span class="s1">&#39;laxar_patterns&#39;</span>
<span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">patterns</span> <span class="p">)</span> <span class="p">{</span>
   <span class="nx">patterns</span><span class="p">.</span><span class="nx">i18n</span><span class="p">.</span><span class="nx">handlerFor</span><span class="p">(</span> <span class="nx">$scope</span> <span class="p">).</span><span class="nx">scopeLocaleFromFeature</span><span class="p">(</span> <span class="s1">&#39;i18n&#39;</span> <span class="p">);</span>
   <span class="p">...</span>
<span class="p">}</span>
</pre></div>


<p>Any updates to the i18n-locale received over the event bus will now be saved under <code>$scope.i18n</code>, along with their tags.
More locales may be registered for other features (if a single widget wants to use more than one language at the same time), resulting ins something like:</p>
<div class="codehilite"><pre><span></span><span class="err">$scope.i</span><span class="mi">18</span><span class="err">n</span> <span class="err">=</span> <span class="p">{</span>      
   <span class="err">locale:</span> <span class="err">&#39;default&#39;,</span>
   <span class="err">tags:</span> <span class="err">{</span>
      <span class="err">&#39;default&#39;:</span> <span class="err">&#39;en_US&#39;,</span>
      <span class="err">&#39;customer&#39;:</span> <span class="err">&#39;de_DE&#39;,</span>
      <span class="err">&#39;support&#39;:</span> <span class="err">&#39;en_GB&#39;</span>
   <span class="p">}</span>
<span class="err">}</span>
</pre></div>


<p>In the HTML template we can now use the angular filter <code>axLocalize</code> to convert an i18nHtmlText to a string:</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span> <span class="na">data-ng-bind-html</span><span class="o">=</span><span class="s">&quot;model.i18nHtmlText | axLocalize:i18n&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>


<p>The filter expects an object for internationalization or a string if the value is not internationalized.
It uses <code>$scope.i18n.locale</code> (passed as an argument to the filter) to select the correct language tag.
Every property of the object should have a language tag as key and the translated text or html as value.</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;i18nHtmlText&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;en_US&quot;</span><span class="p">:</span> <span class="s2">&quot;Upload file &lt;em&gt;now&lt;/em&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;de_DE&quot;</span><span class="p">:</span> <span class="s2">&quot;Datei &lt;em&gt;jetzt&lt;/em&gt; hochladen&quot;</span>
<span class="p">}</span>
</pre></div>


<h2 id="localizing-values-in-the-controller">Localizing values in the controller</h2>
<p>In some cases it is more appropriate to create the localized string inside the controller of the widget.
This is the case if the localization has to be retrieved from the server first.</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">p</span> <span class="na">data-ng-bind-html</span><span class="o">=</span><span class="s">&quot;model.htmlVeryLongDocument&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</pre></div>


<p>To achieve this, we obtain a <code>localize</code> function when we subscribe the widget to the didChangeLocale event.
Like the <code>axLocalize</code>-directive, this function automatically uses the current language tag:</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">localize</span> <span class="o">=</span> <span class="nx">patterns</span><span class="p">.</span><span class="nx">i18n</span><span class="p">.</span><span class="nx">handlerFor</span><span class="p">(</span> <span class="nx">$scope</span> <span class="p">).</span><span class="nx">scopeLocaleFromFeature</span><span class="p">(</span> <span class="s1">&#39;i18n&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">onChange</span><span class="o">:</span> <span class="nx">updateLocalization</span>
<span class="p">}</span> <span class="p">).</span><span class="nx">localizer</span><span class="p">();</span>
</pre></div>


<p>Then we can transform any object with language tag properties to a string using the <code>localize</code> function:</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">updateLocalization</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">documentUrl</span> <span class="o">=</span> <span class="nx">localize</span><span class="p">(</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">features</span><span class="p">.</span><span class="nx">i18nDocumentUrl</span> <span class="p">);</span>
   <span class="nx">$http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="nx">documentUrl</span> <span class="p">).</span><span class="nx">then</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">response</span> <span class="p">)</span> <span class="p">{</span>
      <span class="nx">$scope</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">htmlVeryLongDocument</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
   <span class="p">}</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div></main>
        </div>
      </div>

      <footer>
   <div class="container">
      <div class="ax-copyright">
         <span>
            
         </span>

         <ul class="ax-social">
            
               <li><a class="fa fa-twitter-square" target="_blank" href="https://twitter.com/laxarjs"></a></li>
            
            
               <li><a class="fa fa-rss-square" target="_blank" title="Subscribe to our RSS-feed" href="http://laxarjs.org/rss"></a></li>
            
         </ul>
      </div>
   </div>
</footer>

      <script src="../../../laxar.theme/js/jquery-1.10.2.min.js"></script>
      <script src="../../../laxar.theme/js/bootstrap-3.0.3.min.js"></script>
      <script src="../../../laxar.theme/js/base.js"></script>
   </body>
</html>