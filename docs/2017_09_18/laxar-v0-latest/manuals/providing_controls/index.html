<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../laxar.theme/img/favicon.ico">
        <title>LaxarJS v0.26.2</title>

        <link rel="stylesheet" href="../../../laxar.theme/css/pygments.css">
        <link href="../../../laxar.theme/css/style.min.css" rel="stylesheet">

    </head>

    <body class="documentation">

      <header class="navbar  navbar-fixed-top" role="navigation">
    <div class="container">

        <div class="navbar-header navbar-inverse">
           <button class="navbar-toggle"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
            <!-- Main title -->
            <a class="navbar-brand" href="http://www.laxarjs.org">
               <span class="ax-laxar-logo">Laxar<span>JS</span></span>
            </a>
         </div>

         <div class="navbar-collapse collapse navbar-inverse">
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         laxar <span class="caret"></span>
      </a>
         
         <ul class="dropdown-menu">
            
            <li><a href="../../../laxar-latest">laxar</a></li>
            
            <li><a href="../../../laxar-patterns-latest">laxar-patterns</a></li>
            
            <li><a href="../../../laxar-uikit-latest">laxar-uikit</a></li>
            
            <li><a href="../../../laxar-mocks-latest">laxar-mocks</a></li>
            
            <li><a href="../../../laxar-loader-latest">laxar-loader</a></li>
            
            <li><a href="../../../laxar-tooling-latest">laxar-tooling</a></li>
            
            <li><a href="../../../laxar-angular-adapter-latest">laxar-angular-adapter</a></li>
            
            <li><a href="../../../laxar-angular2-adapter-latest">laxar-angular2-adapter</a></li>
            
            <li><a href="../../../laxar-react-adapter-latest">laxar-react-adapter</a></li>
            
            <li><a href="../../../laxar-vue-adapter-latest">laxar-vue-adapter</a></li>
            
            <li><a href="../../../generator-laxarjs-latest">generator-laxarjs</a></li>
            
            <li><a href="../../../generator-laxarjs2-latest">generator-laxarjs2</a></li>
            
            <li><a href="../../../grunt-laxar-latest">grunt-laxar</a></li>
            
         </ul>
         
   </li>
</ul>
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         v0.26.2 <span class="caret"></span>
      </a>
      
      <ul class="dropdown-menu">
         
            <li class="ax-dropdown-headline">Latest</li>
            
               <li><a href="../../../laxar-v2-latest">v2.0.0</a></li>
            
               <li><a href="../../../laxar-v1-latest">v1.3.5</a></li>
            
               <li><a href="../../../laxar-v0-latest">v0.26.2</a></li>
            
            <li role="separator" class="divider"></li>
         
         <li class="ax-dropdown-headline">All Releases</li>
         
            <li><a href="../../../laxar-v2.0.0">v2.0.0</a></li>
         
            <li><a href="../../../laxar-v1.3.5">v1.3.5</a></li>
         
            <li><a href="../../../laxar-v1.3.4">v1.3.4</a></li>
         
            <li><a href="../../../laxar-v1.3.3">v1.3.3</a></li>
         
            <li><a href="../../../laxar-v1.3.2">v1.3.2</a></li>
         
            <li><a href="../../../laxar-v1.3.1">v1.3.1</a></li>
         
            <li><a href="../../../laxar-v1.3.0">v1.3.0</a></li>
         
            <li><a href="../../../laxar-v1.2.10">v1.2.10</a></li>
         
            <li><a href="../../../laxar-v1.2.9">v1.2.9</a></li>
         
            <li><a href="../../../laxar-v1.2.8">v1.2.8</a></li>
         
            <li><a href="../../../laxar-v1.2.7">v1.2.7</a></li>
         
            <li><a href="../../../laxar-v1.2.6">v1.2.6</a></li>
         
            <li><a href="../../../laxar-v1.2.5">v1.2.5</a></li>
         
            <li><a href="../../../laxar-v1.2.4">v1.2.4</a></li>
         
            <li><a href="../../../laxar-v1.2.3">v1.2.3</a></li>
         
            <li><a href="../../../laxar-v1.2.2">v1.2.2</a></li>
         
            <li><a href="../../../laxar-v1.2.1">v1.2.1</a></li>
         
            <li><a href="../../../laxar-v1.2.0">v1.2.0</a></li>
         
            <li><a href="../../../laxar-v1.1.0">v1.1.0</a></li>
         
            <li><a href="../../../laxar-v1.0.5">v1.0.5</a></li>
         
            <li><a href="../../../laxar-v1.0.4">v1.0.4</a></li>
         
            <li><a href="../../../laxar-v1.0.3">v1.0.3</a></li>
         
            <li><a href="../../../laxar-v1.0.2">v1.0.2</a></li>
         
            <li><a href="../../../laxar-v1.0.1">v1.0.1</a></li>
         
            <li><a href="../../../laxar-v1.0.0">v1.0.0</a></li>
         
            <li><a href="../../../laxar-v0.26.2">v0.26.2</a></li>
         
            <li><a href="../../../laxar-v0.26.1">v0.26.1</a></li>
         
            <li><a href="../../../laxar-v0.26.0">v0.26.0</a></li>
         
            <li><a href="../../../laxar-v0.25.1">v0.25.1</a></li>
         
            <li><a href="../../../laxar-v0.25.0">v0.25.0</a></li>
         
            <li><a href="../../../laxar-v0.24.0">v0.24.0</a></li>
         
            <li><a href="../../../laxar-v0.23.3">v0.23.3</a></li>
         
            <li><a href="../../../laxar-v0.23.2">v0.23.2</a></li>
         
            <li><a href="../../../laxar-v0.23.1">v0.23.1</a></li>
         
            <li><a href="../../../laxar-v0.23.0">v0.23.0</a></li>
         
            <li><a href="../../../laxar-v0.22.2">v0.22.2</a></li>
         
            <li><a href="../../../laxar-v0.22.1">v0.22.1</a></li>
         
            <li><a href="../../../laxar-v0.22.0">v0.22.0</a></li>
         
            <li><a href="../../../laxar-v0.21.0">v0.21.0</a></li>
         
            <li><a href="../../../laxar-v0.20.1">v0.20.1</a></li>
         
            <li><a href="../../../laxar-v0.20.0">v0.20.0</a></li>
         
            <li><a href="../../../laxar-v0.19.1">v0.19.1</a></li>
         
            <li><a href="../../../laxar-v0.19.0">v0.19.0</a></li>
         
            <li><a href="../../../laxar-v0.18.2">v0.18.2</a></li>
         
            <li><a href="../../../laxar-v0.18.1">v0.18.1</a></li>
         
            <li><a href="../../../laxar-v0.18.0">v0.18.0</a></li>
         
            <li><a href="../../../laxar-v0.17.1">v0.17.1</a></li>
         
            <li><a href="../../../laxar-v0.17.0">v0.17.0</a></li>
         
            <li><a href="../../../laxar-v0.16.2">v0.16.2</a></li>
         
            <li><a href="../../../laxar-v0.16.1">v0.16.1</a></li>
         
            <li><a href="../../../laxar-v0.16.0">v0.16.0</a></li>
         
            <li><a href="../../../laxar-v0.15.0">v0.15.0</a></li>
         
            <li><a href="../../../laxar-v0.14.0">v0.14.0</a></li>
         
            <li><a href="../../../laxar-v0.13.3">v0.13.3</a></li>
         
            <li><a href="../../../laxar-v0.13.2">v0.13.2</a></li>
         
            <li><a href="../../../laxar-v0.13.1">v0.13.1</a></li>
         
            <li><a href="../../../laxar-v0.13.0">v0.13.0</a></li>
         
            <li><a href="../../../laxar-v0.12.1">v0.12.1</a></li>
         
            <li><a href="../../../laxar-v0.12.0">v0.12.0</a></li>
         
            <li><a href="../../../laxar-v0.11.1">v0.11.1</a></li>
         
            <li><a href="../../../laxar-v0.11.0">v0.11.0</a></li>
         
            <li><a href="../../../laxar-v0.10.1">v0.10.1</a></li>
         
            <li><a href="../../../laxar-v0.10.0">v0.10.0</a></li>
         
            <li><a href="../../../laxar-v0.9.11">v0.9.11</a></li>
         
            <li><a href="../../../laxar-v0.9.10">v0.9.10</a></li>
         
            <li><a href="../../../laxar-v0.9.9">v0.9.9</a></li>
         
            <li><a href="../../../laxar-v0.9.8">v0.9.8</a></li>
         
            <li><a href="../../../laxar-v0.9.7">v0.9.7</a></li>
         
            <li><a href="../../../laxar-v0.9.6">v0.9.6</a></li>
         
            <li><a href="../../../laxar-v0.9.5">v0.9.5</a></li>
         
            <li><a href="../../../laxar-v0.9.4">v0.9.4</a></li>
         
            <li><a href="../../../laxar-v0.9.3">v0.9.3</a></li>
         
            <li><a href="../../../laxar-v0.9.2">v0.9.2</a></li>
         
            <li><a href="../../../laxar-v0.9.1">v0.9.1</a></li>
         
            <li><a href="../../../laxar-v0.9.0">v0.9.0</a></li>
         
      </ul>
      
   </li>
</ul>

            <ul class="nav navbar-nav">
               
                  
               
                  
                     <li >
                        <a href="../../CHANGELOG/">Changelog</a>
                     </li>
                  
               
                  
               
                  
               
                  
               
               
                <!-- Repo link -->
                
                <li>
                    <a class="ax-external" href="https://github.com/LaxarJS/laxar/tree/v0.26.2">
                       <i class="fa fa-github"></i> GitHub
                    </a>
                </li>
                
            </ul>
            <a class="ax-navbar-additional"
               target="_blank"
               href="http://laxarjs.github.io/widget-browser/#/widgetBrowser">Widgets</a>
        </div>
    </div>
</header>

      <div class="container content">
        <div class="row">
           <sidebar class="col-sm-4 col-xs-12"><div class="bs-sidebar hidden-print" role="complementary">
   <h3>Documentation</h3>
   <ul class="nav bs-sidenav">
   
      
         
            <li class="main"><a title="README" href="../..#start">README</a></li>
         
      
   
      
         
         
      
   
      
         
            <li class="main"><a title="LaxarJS Concepts" href="../../concepts/#start">LaxarJS Concepts</a></li>
         
      
   
      
         
            <li class="main"><a title="Why LaxarJS?" href="../../why_laxar/#start">Why LaxarJS?</a></li>
         
      
   
      
         <li class="main ax-collapse ax-active" >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Manuals"
               data-toggle="collapse"
               data-target="#Manuals"
               aria-expanded="false"
               aria-controls="collapseExample">Manuals <span class="caret"></span></a>

            <ul class="nav subnav in"
               id="Manuals">
               
               <li >
                  <a title="Overview" href="../#start">Overview</a>
               </li>
               
               <li class="ax-active">
                  <a title="Controls and Libraries" href="./#start">Controls and Libraries</a>
               </li>
               
               <li >
                  <a title="Creating Themes" href="../creating_themes/#start">Creating Themes</a>
               </li>
               
               <li >
                  <a title="Events and Publish-Subscribe" href="../events/#start">Events and Publish-Subscribe</a>
               </li>
               
               <li >
                  <a title="Flow and Places" href="../flow_and_places/#start">Flow and Places</a>
               </li>
               
               <li >
                  <a title="Infrastructure and Tools" href="../infrastructure_and_tools/#start">Infrastructure and Tools</a>
               </li>
               
               <li >
                  <a title="Installing Third Party Widgets" href="../installing_widgets/#start">Installing Third Party Widgets</a>
               </li>
               
               <li >
                  <a title="Internationalizing a Widget" href="../i18n/#start">Internationalizing a Widget</a>
               </li>
               
               <li >
                  <a title="LaxarJS Configuration in an Application" href="../configuration/#start">LaxarJS Configuration in an Application</a>
               </li>
               
               <li >
                  <a title="Widgets and Activities" href="../widgets_and_activities/#start">Widgets and Activities</a>
               </li>
               
               <li >
                  <a title="Writing Compositions" href="../writing_compositions/#start">Writing Compositions</a>
               </li>
               
               <li >
                  <a title="Writing Pages" href="../writing_pages/#start">Writing Pages</a>
               </li>
               
            </ul>
         </li>
      
   
    </ul>
</div></sidebar>
           <main class="col-sm-8 col-xs-12 " role="main">

<a name="start" class="ax-anchor"></a>
<p><a href="../">« return to the manuals</a></p>
<p>Preliminary readings:</p>
<ul>
<li><a href="../../concepts/">LaxarJS Core Concepts</a></li>
<li><a href="../widgets_and_activities/">Widgets and Activities</a></li>
</ul>
<h1 id="controls-and-libraries">Controls and Libraries</h1>
<p>In LaxarJS, any non-trivial HTML element, <a href="http://webcomponents.org/">HTML5 Web Component</a> or <a href="https://docs.angularjs.org/guide/directive">AngularJS directive</a> is considered a <em>control</em>.
While widgets and activities deal with business logic, controls handle the technical details of user interaction.
To provide their business logic, widgets and activities often depend on libraries, which might be created by third parties or simply be used to share common functionality.
In the latter case, be sure not to couple your controllers to tightly, e.g. the shared libraries should not allow to share state.</p>
<p>Here are some examples of controls:</p>
<div class="codehilite"><pre>* a select box
* a date picker
* an accordion control
* a tab control
</pre></div>


<p>LaxarJS helps when developing a custom control by managing its AngularJS modules, as well as its CSS and HTML assets for you.
If (and only if) you <em>use</em> a control in one or more widgets, LaxarJS will load its CSS according to the current <a href="../creating_themes/">theme</a>, just like with widgets and templates.
When you remove the control from your widget, or the widget from your page, its code and asset will no longer increase your application footprint. 
This allows you to create and distribute large libraries of controls without fear of application bloat.</p>
<h2 id="creating-or-integrating-a-control">Creating or Integrating a Control</h2>
<p>While HTML5 Web Components are very interesting, the current browser support is limited.
For this reason, LaxarJS currently only covers the creation of a control as an AngularJS directive.</p>
<p>Of course you can still use Web Components, jQuery UI or any other way of creating controls in your widgets, but LaxarJS currently will not manage assets for them.
The recommended way is therefore to wrap such controls in an AngularJS directive.
This can be done either for a single widget by simply adding a directive to its module, or following the steps below. </p>
<h3 id="creating-a-control-using-an-angularjs-directive">Creating a Control using an AngularJS directive</h3>
<p>LaxarJS does not care whether your control is installed through bower or if it is a part of your project, as long as it has a <em>RequireJS path</em> configured.
Basic familiarity with <a href="http://requirejs.org/">RequireJS</a> should be enough to create your own controls.
When writing a control to integrate third party libraries that do not support RequireJS, this can sometimes be tricky.  </p>
<p>Let us try to create a control that displays a digital clock to the user.</p>
<h4 id="requirejs-path">RequireJS Path</h4>
<p>First, choose a location for your controls, such as <code>includes/lib/my_controls</code>.
In the require configuration, you need add the path to your new controls library:</p>
<div class="codehilite"><pre><span class="nx">paths</span><span class="o">:</span> <span class="p">{</span>
   <span class="c1">// ...</span>
   <span class="s1">&#39;my_controls&#39;</span><span class="o">:</span> <span class="s1">&#39;../includes/lib/my_controls&#39;</span>
<span class="p">}</span>
</pre></div>


<p>This assumes that <code>bower_components</code> is your RequireJS <code>baseUrl</code>.
If it is something else, you will need to change the path accordingly (such as <code>lib/my_controls</code> if using <code>includes/</code> as base URL).</p>
<p>Now the <em>require-path</em> for the clock-control is <em>my_controls/clock</em>.</p>
<h4 id="angularjs-directive">AngularJS Directive</h4>
<p>Now let us create the AngularJS module for the control, in <code>includes/lib/my_controls/clock.js</code>:</p>
<div class="codehilite"><pre><span class="nx">define</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;angular&#39;</span><span class="p">,</span> <span class="s1">&#39;text!my_controls/clock/clock.html&#39;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">ng</span><span class="p">,</span> <span class="nx">clockTemplate</span> <span class="p">)</span> <span class="p">{</span>
   <span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

   <span class="kd">var</span> <span class="nx">module</span> <span class="o">=</span> <span class="nx">ng</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="s1">&#39;my_controls.clock&#39;</span><span class="p">,</span> <span class="p">[]</span> <span class="p">);</span>

   <span class="nx">module</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="s1">&#39;myPad&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">number</span> <span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="p">(</span> <span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">?</span> <span class="s1">&#39;0&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">number</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span> <span class="p">);</span>

   <span class="k">return</span> <span class="nx">module</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span> <span class="s1">&#39;myClock&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;$timeout&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">$timeout</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span>
         <span class="nx">restrict</span><span class="o">:</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span>
         <span class="nx">template</span><span class="o">:</span> <span class="nx">clockTemplate</span><span class="p">,</span>
         <span class="nx">link</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">$scope</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">tick</span><span class="p">();</span>
            <span class="kd">function</span> <span class="nx">tick</span><span class="p">()</span> <span class="p">{</span>
               <span class="nx">$scope</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
               <span class="nx">$timeout</span><span class="p">(</span> <span class="nx">tick</span><span class="p">,</span> <span class="mi">1000</span> <span class="p">);</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">};</span>

   <span class="p">}</span> <span class="p">]</span> <span class="p">);</span>

<span class="p">}</span> <span class="p">);</span>
</pre></div>


<p>For the directive, we use a prefix, to avoid collisions with future HTML elements and other controls.
Make sure to return the AngularJS module as shown here, so that LaxarJS can use it when bootstrapping your application.</p>
<h4 id="angularjs-template">AngularJS Template</h4>
<p>Let us create a simple template at <code>includes/lib/my_controls/clock/clock.html</code>.</p>
<div class="codehilite"><pre><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;my-clock&quot;</span><span class="nt">&gt;</span>
   {{ date.getHours() | myPad }}:{{ date.getMinutes() | myPad }}:{{ date.getSeconds() | myPad }}
<span class="nt">&lt;/span&gt;</span>
</pre></div>


<p>Use a prefix for the custom CSS class, to avoid collision with other controls and libraries.
Of course, for maximum performance you might want to move the filtering to the <em>tick</em> function, but this should be fine as an example.</p>
<h4 id="the-css-stylesheet">The CSS Stylesheet</h4>
<p>To automatically load your CSS depending on the theme, it has to be placed into a sub-directory <code>default.theme/css</code> of your require path and it has to use the same file name as the controller file.
In case of the clock, the correct path is <code>includes/lib/my_controls/clock/default.theme/clock.css</code>.</p>
<div class="codehilite"><pre><span class="nc">.my-clock</span> <span class="p">{</span>
   <span class="k">font-family</span><span class="o">:</span> <span class="s1">&#39;Times New Roman&#39;</span><span class="o">,</span> <span class="k">serif</span><span class="p">;</span>
   <span class="k">font-weight</span><span class="o">:</span> <span class="k">bold</span><span class="p">;</span>
   <span class="k">font-size</span><span class="o">:</span> <span class="m">36px</span><span class="p">;</span>
   <span class="k">border</span><span class="o">:</span> <span class="m">3px</span> <span class="k">double</span> <span class="nb">black</span><span class="p">;</span>
   <span class="k">padding</span><span class="o">:</span> <span class="m">3px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h3 id="using-a-control-from-a-widget">Using a Control from a Widget</h3>
<p>Any widget that uses our clock should declare its dependency using <code>controls</code> entry in its <code>widget.json</code>:</p>
<div class="codehilite"><pre><span class="s2">&quot;controls&quot;</span><span class="err">:</span> <span class="p">[</span> <span class="s2">&quot;my_controls/clock&quot;</span> <span class="p">]</span><span class="err">,</span>
</pre></div>


<p>This allows the runtime to load the RequireJS module and to register its AngularJS module during bootstrapping.
Additionally this causes the control CSS to be loaded from the correct theme, and to be bundled when creating a release-version of your application. </p>
<p>To actually get the control onto the screen, you have to reference it from your widget template:</p>
<div class="codehilite"><pre><span class="nt">&lt;h3&gt;</span>My Widget, now with 100% more 24h-clock!<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;my-clock&gt;&lt;/my-clock&gt;</span>
</pre></div>


<p>After adding your widget to a page, you may inspect your timepiece in the browser:</p>
<p><img alt="CartWidget" src="../providing_controls/my_clock.png" /></p>
<h2 id="creating-or-integrating-a-library">Creating or Integrating a Library</h2>
<p>TODO</p></main>
        </div>
      </div>

      <footer>
   <div class="container">
      <div class="ax-copyright">
         <span>
            
         </span>

         <ul class="ax-social">
            
               <li><a class="fa fa-twitter-square" target="_blank" href="https://twitter.com/laxarjs"></a></li>
            
            
               <li><a class="fa fa-rss-square" target="_blank" title="Subscribe to our RSS-feed" href="http://laxarjs.org/rss"></a></li>
            
         </ul>
      </div>
   </div>
</footer>

      <script src="../../../laxar.theme/js/jquery-1.10.2.min.js"></script>
      <script src="../../../laxar.theme/js/bootstrap-3.0.3.min.js"></script>
      <script src="../../../laxar.theme/js/base.js"></script>
   </body>
</html>