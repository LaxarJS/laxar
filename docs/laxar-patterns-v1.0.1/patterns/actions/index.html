<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../laxar.theme/img/favicon.ico">
        <title>LaxarJS Patterns v1.0.1</title>

        <link rel="stylesheet" href="../../../laxar.theme/css/pygments.css">
        <link href="../../../laxar.theme/css/style.min.css" rel="stylesheet">

    </head>

    <body class="documentation">

      <header class="navbar  navbar-fixed-top" role="navigation">
    <div class="container">

        <div class="navbar-header navbar-inverse">
           <button class="navbar-toggle"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
            <!-- Main title -->
            <a class="navbar-brand" href="http://www.laxarjs.org">
               <span class="ax-laxar-logo">Laxar<span>JS</span></span>
            </a>
         </div>

         <div class="navbar-collapse collapse navbar-inverse">
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         laxar-patterns <span class="caret"></span>
      </a>
         
         <ul class="dropdown-menu">
            
            <li><a href="../../../laxar-latest">laxar</a></li>
            
            <li><a href="../../../laxar-patterns-latest">laxar-patterns</a></li>
            
            <li><a href="../../../laxar-uikit-latest">laxar-uikit</a></li>
            
            <li><a href="../../../laxar-mocks-latest">laxar-mocks</a></li>
            
            <li><a href="../../../laxar-loader-latest">laxar-loader</a></li>
            
            <li><a href="../../../laxar-tooling-latest">laxar-tooling</a></li>
            
            <li><a href="../../../laxar-angular-adapter-latest">laxar-angular-adapter</a></li>
            
            <li><a href="../../../laxar-angular2-adapter-latest">laxar-angular2-adapter</a></li>
            
            <li><a href="../../../laxar-react-adapter-latest">laxar-react-adapter</a></li>
            
            <li><a href="../../../laxar-vue-adapter-latest">laxar-vue-adapter</a></li>
            
            <li><a href="../../../generator-laxarjs-latest">generator-laxarjs</a></li>
            
            <li><a href="../../../generator-laxarjs2-latest">generator-laxarjs2</a></li>
            
            <li><a href="../../../grunt-laxar-latest">grunt-laxar</a></li>
            
         </ul>
         
   </li>
</ul>
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         v1.0.1 <span class="caret"></span>
      </a>
      
      <ul class="dropdown-menu">
         
            <li class="ax-dropdown-headline">Latest</li>
            
               <li><a href="../../../laxar-patterns-v2-latest">v2.0.0</a></li>
            
               <li><a href="../../../laxar-patterns-v1-latest">v1.3.0</a></li>
            
               <li><a href="../../../laxar-patterns-v0-latest">v0.20.0</a></li>
            
            <li role="separator" class="divider"></li>
         
         <li class="ax-dropdown-headline">All Releases</li>
         
            <li><a href="../../../laxar-patterns-v2.0.0">v2.0.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.3.0">v1.3.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.2.0">v1.2.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.1.2">v1.1.2</a></li>
         
            <li><a href="../../../laxar-patterns-v1.1.1">v1.1.1</a></li>
         
            <li><a href="../../../laxar-patterns-v1.1.0">v1.1.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.0.1">v1.0.1</a></li>
         
            <li><a href="../../../laxar-patterns-v1.0.0">v1.0.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.20.0">v0.20.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.19.0">v0.19.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.18.1">v0.18.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.18.0">v0.18.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.17.0">v0.17.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.16.0">v0.16.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.15.0">v0.15.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.14.1">v0.14.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.14.0">v0.14.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.13.0">v0.13.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.12.1">v0.12.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.12.0">v0.12.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.11.1">v0.11.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.11.0">v0.11.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.10.1">v0.10.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.10.0">v0.10.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.9.2">v0.9.2</a></li>
         
            <li><a href="../../../laxar-patterns-v0.9.1">v0.9.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.9.0">v0.9.0</a></li>
         
      </ul>
      
   </li>
</ul>

            <ul class="nav navbar-nav">
               
                  
               
                  
                     <li >
                        <a href="../../CHANGELOG/">Changelog</a>
                     </li>
                  
               
                  
               
                  
               
               
                <!-- Repo link -->
                
                <li>
                    <a class="ax-external" href="https://github.com/LaxarJS/laxar-patterns/tree/v1.0.1">
                       <i class="fa fa-github"></i> GitHub
                    </a>
                </li>
                
            </ul>
            <a class="ax-navbar-additional"
               target="_blank"
               href="http://laxarjs.github.io/widget-browser/#/widgetBrowser">Widgets</a>
        </div>
    </div>
</header>

      <div class="container content">
        <div class="row">
           <sidebar class="col-sm-4 col-xs-12"><div class="bs-sidebar hidden-print" role="complementary">
   <h3>Documentation</h3>
   <ul class="nav bs-sidenav">
   
      
         
            <li class="main"><a title="README" href="../..#start">README</a></li>
         
      
   
      
         
         
      
   
      
         <li class="main ax-collapse " >
            <a class="ax-link"
               href="javascript:void(0)"
               title="API"
               data-toggle="collapse"
               data-target="#API"
               aria-expanded="false"
               aria-controls="collapseExample">API <span class="caret"></span></a>

            <ul class="nav subnav collapse"
               id="API">
               
               <li >
                  <a title="actions" href="../../api/actions.js/#start">actions</a>
               </li>
               
               <li >
                  <a title="errors" href="../../api/errors.js/#start">errors</a>
               </li>
               
               <li >
                  <a title="flags" href="../../api/flags.js/#start">flags</a>
               </li>
               
               <li >
                  <a title="i18n" href="../../api/i18n.js/#start">i18n</a>
               </li>
               
               <li >
                  <a title="json" href="../../api/json.js/#start">json</a>
               </li>
               
               <li >
                  <a title="patches" href="../../api/patches.js/#start">patches</a>
               </li>
               
               <li >
                  <a title="resources" href="../../api/resources.js/#start">resources</a>
               </li>
               
               <li >
                  <a title="validation" href="../../api/validation.js/#start">validation</a>
               </li>
               
               <li >
                  <a title="visibility" href="../../api/visibility.js/#start">visibility</a>
               </li>
               
            </ul>
         </li>
      
   
      
         <li class="main ax-collapse ax-active" >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Patterns"
               data-toggle="collapse"
               data-target="#Patterns"
               aria-expanded="false"
               aria-controls="collapseExample">Patterns <span class="caret"></span></a>

            <ul class="nav subnav in"
               id="Patterns">
               
               <li class="ax-active">
                  <a title="Action Patterns" href="./#start">Action Patterns</a>
               </li>
               
               <li >
                  <a title="Error Handling Patterns" href="../errors/#start">Error Handling Patterns</a>
               </li>
               
               <li >
                  <a title="Flag Patterns" href="../flags/#start">Flag Patterns</a>
               </li>
               
               <li >
                  <a title="Resource Patterns" href="../resources/#start">Resource Patterns</a>
               </li>
               
            </ul>
         </li>
      
   
    </ul>
</div></sidebar>
           <main class="col-sm-8 col-xs-12 " role="main">

<a name="start" class="ax-anchor"></a>
<p><a href="../..">« return to the patterns overview</a></p>
<h1 id="action-patterns">Action Patterns</h1>
<p>In LaxarJS applications, <em>actions</em> allow widgets and activities to give their collaborators the opportunity to <em>react</em> to "something that happened".
Usually, "something" is a user-interaction: A confirmation button was clicked, a selection was changed or a service call was completed on behalf of the user.</p>
<p>Other widgets may respond to arbitrary action requests by listening to their configured topics, and taking an action <em>appropriate for them:</em>
They might open a popup, start navigation, perform a REST call, ask to validate or save some resources, clear their own resources and so on.
When widgets respond to an action request, they can do so <em>asynchronously</em> using the [will/did]-mechanism.
This means that actions can have a <em>duration</em>, which is useful for longer running tasks such as performing a search.
The duration can in turn be used by yet other widgets, for example to show a progress indicator every time that an action on the page runs for more than, say, 200 milliseconds.</p>
<p>If you are familiar with <em><a href="http://qt-project.org/doc/qt-5/signalsandslots.html">Qt's signal/slot</a></em> mechanism, you may think of an action as the named, asynchronous counterpart to an <em>n:m</em> signal/slot connection.</p>
<h2 id="action-requests-and-willdid-responses">Action Requests and Will/Did-Responses</h2>
<p>As with <a href="../resources/">resources</a>, the <em>page configuration</em> determines which widgets share action topics:
If a widget offers to publish an action, but no topic was configured for that action, it should not publish an event.
Similarly, if a widget offers to respond to some action, but no topic was configured, it should not subscribe to action requests.</p>
<h3 id="the-takeactionrequest-willtakeaction-and-didtakeaction-events">The <em>takeActionRequest, willTakeAction</em> and <em>didTakeAction</em> Events</h3>
<p>A widget (the <em>action initiator</em>) may request for action to be taken by publishing a <code>takeActionRequest</code>.
Collaborators (<em>action handlers</em>) capable and configured to perform a corresponding action respond by publishing a <code>willTakeAction</code> event.
After they have completed performing their action, possibly asynchronously, the collaborators publish a <code>didTakeAction</code> event.</p>
<table>
<thead>
<tr>
<th>Event name</th>
<th>Payload Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>takeActionRequest.{action}</code></td>
<td></td>
<td></td>
<td><em>published by any widget to request for some action being taken</em></td>
</tr>
<tr>
<td></td>
<td><code>action</code></td>
<td>string</td>
<td>the topic through which respondents are connected (used in the payload <em>as well as</em> in the event name)</td>
</tr>
<tr>
<td></td>
<td><code>anchorDomElement</code></td>
<td>string</td>
<td>If applicable: the ID of a DOM element where the action originated</td>
</tr>
<tr>
<td><code>willTakeAction.{action}</code></td>
<td></td>
<td></td>
<td><em>published by a widget that is about to perform some action</em></td>
</tr>
<tr>
<td></td>
<td><code>action</code></td>
<td>string</td>
<td><em>see above</em></td>
</tr>
<tr>
<td><code>didTakeAction.{action}.{outcome}</code></td>
<td></td>
<td></td>
<td><em>published by a widget that has completed its action</em></td>
</tr>
<tr>
<td></td>
<td><code>action</code></td>
<td>string</td>
<td><em>see above</em></td>
</tr>
<tr>
<td></td>
<td><code>outcome</code></td>
<td>string</td>
<td><code>ERROR</code> or <code>SUCCESS</code></td>
</tr>
</tbody>
</table>
<p>The <code>anchorDomElement</code> that can be sent along with the <code>takeActionRequest</code> is useful to display popover hints right next to the UI element that was activated by the user.
This information exposes implementation details of the sender, so respondents should take care not to modify the sender DOM and not to rely on a specific structure.</p>
<p>The <code>outcome</code> that is sent with the <code>didTakeAction</code> response indicated if the (assumed) user intent could be satisfied, because of an error condition that could not be handled (such as a network problem).
If the outcome is <code>ERROR</code>, the initiator should signal this to the user if appropriate, and the handler should publish a <code>didEncounterError</code> event with details on the problem.</p>
<p>You are free to add any additional information to a <code>takeActionRequest</code> or <code>didTakeAction</code> event payload, but bear in mind, that a third party widget following this guide may not understand or preserve your custom data.</p></main>
        </div>
      </div>

      <footer>
   <div class="container">
      <div class="ax-copyright">
         <span>
            
         </span>

         <ul class="ax-social">
            
               <li><a class="fa fa-twitter-square" target="_blank" href="https://twitter.com/laxarjs"></a></li>
            
            
               <li><a class="fa fa-rss-square" target="_blank" title="Subscribe to our RSS-feed" href="http://laxarjs.org/rss"></a></li>
            
         </ul>
      </div>
   </div>
</footer>

      <script src="../../../laxar.theme/js/jquery-1.10.2.min.js"></script>
      <script src="../../../laxar.theme/js/bootstrap-3.0.3.min.js"></script>
      <script src="../../../laxar.theme/js/base.js"></script>
   </body>
</html>