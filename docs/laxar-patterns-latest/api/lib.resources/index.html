<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../laxar.theme/img/favicon.ico">
        <title>LaxarJS Patterns  v2.0.0</title>

        <link rel="stylesheet" href="../../../laxar.theme/css/pygments.css">
        <link href="../../../laxar.theme/css/style.min.css" rel="stylesheet">

    </head>

    <body class="documentation">

      <header class="navbar  navbar-fixed-top" role="navigation">
    <div class="container">

        <div class="navbar-header navbar-inverse">
           <button class="navbar-toggle"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
            <!-- Main title -->
            <a class="navbar-brand" href="http://www.laxarjs.org">
               <span class="ax-laxar-logo">Laxar<span>JS</span></span>
            </a>
         </div>

         <div class="navbar-collapse collapse navbar-inverse">
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         laxar-patterns <span class="caret"></span>
      </a>
         
         <ul class="dropdown-menu">
            
            <li><a href="../../../laxar-latest">laxar</a></li>
            
            <li><a href="../../../laxar-patterns-latest">laxar-patterns</a></li>
            
            <li><a href="../../../laxar-uikit-latest">laxar-uikit</a></li>
            
            <li><a href="../../../laxar-mocks-latest">laxar-mocks</a></li>
            
            <li><a href="../../../laxar-loader-latest">laxar-loader</a></li>
            
            <li><a href="../../../laxar-tooling-latest">laxar-tooling</a></li>
            
            <li><a href="../../../laxar-angular-adapter-latest">laxar-angular-adapter</a></li>
            
            <li><a href="../../../laxar-angular2-adapter-latest">laxar-angular2-adapter</a></li>
            
            <li><a href="../../../laxar-react-adapter-latest">laxar-react-adapter</a></li>
            
            <li><a href="../../../laxar-vue-adapter-latest">laxar-vue-adapter</a></li>
            
            <li><a href="../../../generator-laxarjs-latest">generator-laxarjs</a></li>
            
            <li><a href="../../../generator-laxarjs2-latest">generator-laxarjs2</a></li>
            
            <li><a href="../../../grunt-laxar-latest">grunt-laxar</a></li>
            
         </ul>
         
   </li>
</ul>
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         v2.0.0 <span class="caret"></span>
      </a>
      
      <ul class="dropdown-menu">
         
            <li class="ax-dropdown-headline">Latest</li>
            
               <li><a href="../../../laxar-patterns-v2-latest">v2.0.0</a></li>
            
               <li><a href="../../../laxar-patterns-v1-latest">v1.3.0</a></li>
            
               <li><a href="../../../laxar-patterns-v0-latest">v0.20.0</a></li>
            
            <li role="separator" class="divider"></li>
         
         <li class="ax-dropdown-headline">All Releases</li>
         
            <li><a href="../../../laxar-patterns-v2.0.0">v2.0.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.3.0">v1.3.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.2.0">v1.2.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.1.2">v1.1.2</a></li>
         
            <li><a href="../../../laxar-patterns-v1.1.1">v1.1.1</a></li>
         
            <li><a href="../../../laxar-patterns-v1.1.0">v1.1.0</a></li>
         
            <li><a href="../../../laxar-patterns-v1.0.1">v1.0.1</a></li>
         
            <li><a href="../../../laxar-patterns-v1.0.0">v1.0.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.20.0">v0.20.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.19.0">v0.19.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.18.1">v0.18.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.18.0">v0.18.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.17.0">v0.17.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.16.0">v0.16.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.15.0">v0.15.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.14.1">v0.14.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.14.0">v0.14.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.13.0">v0.13.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.12.1">v0.12.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.12.0">v0.12.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.11.1">v0.11.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.11.0">v0.11.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.10.1">v0.10.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.10.0">v0.10.0</a></li>
         
            <li><a href="../../../laxar-patterns-v0.9.2">v0.9.2</a></li>
         
            <li><a href="../../../laxar-patterns-v0.9.1">v0.9.1</a></li>
         
            <li><a href="../../../laxar-patterns-v0.9.0">v0.9.0</a></li>
         
      </ul>
      
   </li>
</ul>

            <ul class="nav navbar-nav">
               
                  
               
                  
                     <li >
                        <a href="../../CHANGELOG/">Changelog</a>
                     </li>
                  
               
                  
               
                  
               
               
                <!-- Repo link -->
                
                <li>
                    <a class="ax-external" href="https://github.com/LaxarJS/laxar-patterns/tree/v2.0.0">
                       <i class="fa fa-github"></i> GitHub
                    </a>
                </li>
                
            </ul>
            <a class="ax-navbar-additional"
               target="_blank"
               href="http://laxarjs.github.io/widget-browser/#/widgetBrowser">Widgets</a>
        </div>
    </div>
</header>

      <div class="container content">
        <div class="row">
           <sidebar class="col-sm-4 col-xs-12"><div class="bs-sidebar hidden-print" role="complementary">
   <h3>Documentation</h3>
   <ul class="nav bs-sidenav">
   
      
         
            <li class="main"><a title="README" href="../..#start">README</a></li>
         
      
   
      
         
         
      
   
      
         <li class="main ax-collapse ax-active" >
            <a class="ax-link"
               href="javascript:void(0)"
               title="API"
               data-toggle="collapse"
               data-target="#API"
               aria-expanded="false"
               aria-controls="collapseExample">API <span class="caret"></span></a>

            <ul class="nav subnav in"
               id="API">
               
               <li >
                  <a title="actions" href="../lib.actions/#start">actions</a>
               </li>
               
               <li >
                  <a title="errors" href="../lib.errors/#start">errors</a>
               </li>
               
               <li >
                  <a title="flags" href="../lib.flags/#start">flags</a>
               </li>
               
               <li >
                  <a title="i18n" href="../lib.i18n/#start">i18n</a>
               </li>
               
               <li >
                  <a title="json" href="../lib.json/#start">json</a>
               </li>
               
               <li >
                  <a title="laxar-patterns" href="../laxar-patterns/#start">laxar-patterns</a>
               </li>
               
               <li class="ax-active">
                  <a title="resources" href="./#start">resources</a>
               </li>
               
               <li >
                  <a title="validation" href="../lib.validation/#start">validation</a>
               </li>
               
               <li >
                  <a title="visibility" href="../lib.visibility/#start">visibility</a>
               </li>
               
            </ul>
         </li>
      
   
      
         <li class="main ax-collapse " >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Patterns"
               data-toggle="collapse"
               data-target="#Patterns"
               aria-expanded="false"
               aria-controls="collapseExample">Patterns <span class="caret"></span></a>

            <ul class="nav subnav collapse"
               id="Patterns">
               
               <li >
                  <a title="Action Patterns" href="../../patterns/actions/#start">Action Patterns</a>
               </li>
               
               <li >
                  <a title="Error Handling Patterns" href="../../patterns/errors/#start">Error Handling Patterns</a>
               </li>
               
               <li >
                  <a title="Flag Patterns" href="../../patterns/flags/#start">Flag Patterns</a>
               </li>
               
               <li >
                  <a title="Resource Patterns" href="../../patterns/resources/#start">Resource Patterns</a>
               </li>
               
            </ul>
         </li>
      
   
    </ul>
</div></sidebar>
           <main class="col-sm-8 col-xs-12 " role="main">

<a name="start" class="ax-anchor"></a>
<h1 id="resources"><a id="resources"></a>resources</h1>
<p>This module provides helpers for patterns regarding <em>didReplace</em> and <em>didUpdate</em> events.</p>
<h2 id="contents">Contents</h2>
<p><strong>Module Members</strong></p>
<ul>
<li><a href="#replacePublisherForFeature">replacePublisherForFeature()</a></li>
<li><a href="#updatePublisherForFeature">updatePublisherForFeature()</a></li>
<li><a href="#handlerFor">handlerFor()</a></li>
</ul>
<p><strong>Types</strong></p>
<ul>
<li><a href="#ResourceHandler">ResourceHandler</a><ul>
<li><a href="#ResourceHandler.registerResourceFromFeature">ResourceHandler.registerResourceFromFeature()</a></li>
<li><a href="#ResourceHandler.registerResource">ResourceHandler.registerResource()</a></li>
<li><a href="#ResourceHandler.whenAllWereReplaced">ResourceHandler.whenAllWereReplaced()</a></li>
<li><a href="#ResourceHandler.wereAllReplaced">ResourceHandler.wereAllReplaced()</a></li>
</ul>
</li>
</ul>
<h2 id="module-members">Module Members</h2>
<h4 id="replacepublisherforfeature-context-featurepath-optionaloptions"><a id="replacePublisherForFeature"></a>replacePublisherForFeature( context, featurePath, optionalOptions )</h4>
<p>Creates and returns a function to publish <em>didReplace</em> events for the resource found as feature
configuration. Resolution of the <code>featurePath</code> argument works just as explained in the documentation for
<a href="#ResourceHandler.registerResourceFromFeature"><code>#ResourceHandler.registerResourceFromFeature</code></a>. The publisher returns the promise returned by
the underlying event bus call.</p>
<h5 id="parameters">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>context</td>
<td><code>AxContext</code></td>
<td>the widget context to work on</td>
</tr>
<tr>
<td>featurePath</td>
<td><code>String</code></td>
<td>the property of <code>context.features</code> the publisher reads the resource name from</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Object</code></td>
<td>options for the publisher</td>
</tr>
<tr>
<td><em>optionalOptions.deliverToSender</em></td>
<td><code>Boolean</code></td>
<td>the value is forwarded to <code>eventBus.publish</code>: if <code>true</code> the event will also be delivered to the publisher. Default is <code>false</code></td>
</tr>
<tr>
<td><em>optionalOptions.isOptional</em></td>
<td><code>Boolean</code></td>
<td>if <code>true</code>, a missing <code>featurePath.resource</code> is ignored and the returned publisher won't do anything when called. Default is <code>false</code>.</td>
</tr>
</tbody>
</table>
<h5 id="returns">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Function</code></td>
<td>the publisher function. Takes the data to publish as single argument</td>
</tr>
</tbody>
</table>
<h4 id="updatepublisherforfeature-context-featurepath-optionaloptions"><a id="updatePublisherForFeature"></a>updatePublisherForFeature( context, featurePath, optionalOptions )</h4>
<p>Creates and returns a function to publish <em>didUpdate</em> events for the resource found as feature
configuration. Resolution of the <code>featurePath</code> argument works just as explained in the documentation for
<a href="#ResourceHandler.registerResourceFromFeature"><code>#ResourceHandler.registerResourceFromFeature</code></a>. The publisher returns the promise returned by
the underlying event bus call. The returned function only accepts one argument, which is the JSON patch
sequence conforming to <a href="https://tools.ietf.org/html/rfc6902">RFC 6902</a>.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">publisher</span> <span class="o">=</span> <span class="nx">resources</span><span class="p">.</span><span class="nx">updatePublisherForFeature</span><span class="p">(</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">path</span> <span class="p">);</span>
<span class="nx">publisher</span><span class="p">(</span> <span class="p">[</span>
   <span class="p">{</span> <span class="nx">op</span><span class="o">:</span> <span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/accounts/2&#39;</span> <span class="p">},</span>
   <span class="p">{</span> <span class="nx">op</span><span class="o">:</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/contacts/hans/number&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;+49 123 4563432&#39;</span> <span class="p">}</span>
<span class="p">]</span> <span class="p">);</span>
</pre></div>


<p>Additionally the returned function has a method <code>compareAndPublish</code> that accepts the previous version of
a resource as first argument and the current version of the resource as second argument. It then creates
the JSON patch sequence itself and sends the according didUpdate event. It also returns the promise
returned by the underlying event bus call.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">publisher</span> <span class="o">=</span> <span class="nx">resources</span><span class="p">.</span><span class="nx">updatePublisherForFeature</span><span class="p">(</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">path</span> <span class="p">);</span>
<span class="nx">publisher</span><span class="p">.</span><span class="nx">compareAndPublish</span><span class="p">(</span> <span class="nx">obsoleteVersion</span><span class="p">,</span> <span class="nx">currentVersion</span> <span class="p">);</span>
</pre></div>


<p>Note that a generic generation of patches might lead to strange, large patch sequences, especially when
removing entries. The diff library doesn't know about identities and as such won't recognize where a
specific element was removed. As a consequence instead of generating a remove operation, this could
result in a very large number of <em>replace</em> operations that shift the properties from successors to the
front in order to overwrite instead of remove the entry.
In such cases one is better off by manually creating a patch with operation <em>remove</em>, as the knowledge
about the domain is available at the user of this publisher.</p>
<h5 id="parameters_1">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>context</td>
<td><code>AxContext</code></td>
<td>the widget context to work on</td>
</tr>
<tr>
<td>featurePath</td>
<td><code>String</code></td>
<td>the property of <code>context.features</code> the publisher reads the resource name from</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Object</code></td>
<td>options for the publisher</td>
</tr>
<tr>
<td><em>optionalOptions.deliverToSender</em></td>
<td><code>Boolean</code></td>
<td>the value is forward to <code>eventBus.publish</code>: if <code>true</code> the event will also be delivered to the publisher. Default is <code>false</code></td>
</tr>
<tr>
<td><em>optionalOptions.isOptional</em></td>
<td><code>Boolean</code></td>
<td>if <code>true</code>, a missing <code>featurePath.resource</code> is ignored and the returned publisher won't do anything when called. Default is <code>false</code>.</td>
</tr>
</tbody>
</table>
<h5 id="returns_1">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Function</code></td>
<td>the publisher function as described above</td>
</tr>
</tbody>
</table>
<h4 id="handlerfor-context"><a id="handlerFor"></a>handlerFor( context )</h4>
<p>Creates a new handler instance for <em>didReplace</em> and <em>didUpdate</em> events. It already handles setting of the
resource data on <em>didReplace</em> in the <code>context.resources</code> property and updating that data on <em>didUpdate</em>
events.</p>
<h5 id="parameters_2">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>context</td>
<td><code>AxContext</code></td>
<td>the widget context to work on</td>
</tr>
</tbody>
</table>
<h5 id="returns_2">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#ResourceHandler"><code>ResourceHandler</code></a></td>
<td>a resource handler instance</td>
</tr>
</tbody>
</table>
<h2 id="types">Types</h2>
<h3 id="resourcehandler"><a id="ResourceHandler"></a>ResourceHandler</h3>
<h4 id="resourcehandlerregisterresourcefromfeature-featurepath-optionaloptions"><a id="ResourceHandler.registerResourceFromFeature"></a>ResourceHandler.registerResourceFromFeature( featurePath, optionalOptions )</h4>
<p>Registers default event handlers for a feature. The <code>feature</code> argument is interpreted as attribute
path to an object having a <code>resource</code> property of type string holding the name of the resource to
register the handler for. All replacements and updates will be written to <code>context.resources</code> according to
the rules found at the <code>optionalOptions.modelKey</code> doc.</p>
<p>Example:
Consider the following configuration:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;features&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;someFeature&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;someResourceConfig&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;myResource&quot;</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The corresponding call would be (providing none of the options):</p>
<div class="codehilite"><pre><span></span><span class="nx">resources</span><span class="p">.</span><span class="nx">handlerFor</span><span class="p">(</span> <span class="nx">context</span> <span class="p">)</span>
   <span class="p">.</span><span class="nx">registerResourceFromFeature</span><span class="p">(</span> <span class="s1">&#39;someFeature.someResourceConfig&#39;</span> <span class="p">);</span>
</pre></div>


<h5 id="parameters_3">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>featurePath</td>
<td><code>String</code></td>
<td>the attribute path to the feature for the resource</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Object</code>, <code>Function</code></td>
<td>options and callbacks to use. If a function is passed, it is used as the <code>onUpdateReplace</code> option.</td>
</tr>
<tr>
<td><em>optionalOptions.onReplace</em></td>
<td><code>Function</code>, <code>Array.&lt;Function&gt;</code></td>
<td>a function or a list of functions to call when a didReplace event is received. Each function receives the event object as argument. If <code>options.omitFirstReplace</code> is <code>true</code>, it is only called first the second time a didReplace event occurs</td>
</tr>
<tr>
<td><em>optionalOptions.onUpdate</em></td>
<td><code>Function</code>, <code>Array.&lt;Function&gt;</code></td>
<td>a function or a list of functions to call when a didUpdate event is received. Each function receives the event object as argument</td>
</tr>
<tr>
<td><em>optionalOptions.onUpdateReplace</em></td>
<td><code>Function</code>, <code>Array.&lt;Function&gt;</code></td>
<td>a function or a list of functions to call when a didUpdate or a didReplace event is received. Each function receives the event object as argument. If <code>options.omitFirstReplace</code> is <code>true</code>, it is not called for the first received didReplace event</td>
</tr>
<tr>
<td><em>optionalOptions.omitFirstReplace</em></td>
<td><code>Boolean</code></td>
<td>if <code>true</code> <code>options.onReplace</code> is only called after the first time a didReplace event occurred. Default is <code>false</code></td>
</tr>
<tr>
<td><em>optionalOptions.modelKey</em></td>
<td><code>String</code></td>
<td>the key to use for the resource in <code>context.resources</code>. If not given the last path fragment of <code>featurePath</code> is used. For example if the path is <code>myfeature.superResource</code> the key will be <code>superResource</code></td>
</tr>
<tr>
<td><em>optionalOptions.isOptional</em></td>
<td><code>Boolean</code></td>
<td>if set to <code>true</code>, missing configuration for this resource is silently ignored and no handlers are registered. If set to <code>false</code>, an error will be raised in this case (default is <code>false</code>)</td>
</tr>
</tbody>
</table>
<h5 id="returns_3">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#ResourceHandler"><code>ResourceHandler</code></a></td>
<td>this instance for chaining</td>
</tr>
</tbody>
</table>
<h4 id="resourcehandlerregisterresource-resource-optionaloptions"><a id="ResourceHandler.registerResource"></a>ResourceHandler.registerResource( resource, optionalOptions )</h4>
<p>Registers default event handlers for a known resource name.All replacements and updates will be written to
<code>context.resources</code> according to the rules found at the <code>optionalOptions.modelKey</code> doc.</p>
<h5 id="parameters_4">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>resource</td>
<td><code>String</code></td>
<td>the resource the handler should be registered for</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Object</code>, <code>Function</code></td>
<td>options and callbacks to use. If a function is passed, it is used as the <code>onUpdateReplace</code> option.</td>
</tr>
<tr>
<td><em>optionalOptions.onReplace</em></td>
<td><code>Function</code>, <code>Array.&lt;Function&gt;</code></td>
<td>a function or a list of functions to call when a didReplace event is received. Each function receives the event object as argument. If <code>options.omitFirstReplace</code> is <code>true</code>, it is only called first the second time a didReplace event occurs</td>
</tr>
<tr>
<td><em>optionalOptions.onUpdate</em></td>
<td><code>Function</code>, <code>Array.&lt;Function&gt;</code></td>
<td>a function or a list of functions to call when a didUpdate event is received. Each function receives the event object as argument</td>
</tr>
<tr>
<td><em>optionalOptions.onUpdateReplace</em></td>
<td><code>Function</code>, <code>Array.&lt;Function&gt;</code></td>
<td>a function or a list of functions to call when a didUpdate or a didReplace event is received. Each function receives the event object as argument. If <code>options.omitFirstReplace</code> is <code>true</code>, it is only called first for didReplace events the second time such an event occurs</td>
</tr>
<tr>
<td><em>optionalOptions.omitFirstReplace</em></td>
<td><code>Boolean</code></td>
<td>if <code>true</code> <code>options.onReplace</code> is only called after the first time a didReplace event occurred. Default is <code>false</code></td>
</tr>
<tr>
<td><em>optionalOptions.modelKey</em></td>
<td><code>String</code></td>
<td>the key to use for the resource in <code>context.resources</code>. If not given the value of <code>resource</code> is used</td>
</tr>
</tbody>
</table>
<h5 id="returns_4">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#ResourceHandler"><code>ResourceHandler</code></a></td>
<td>this instance for chaining</td>
</tr>
</tbody>
</table>
<h4 id="resourcehandlerwhenallwerereplaced-callback-optionaloptions"><a id="ResourceHandler.whenAllWereReplaced"></a>ResourceHandler.whenAllWereReplaced( callback, optionalOptions )</h4>
<p>Registers a callback that is called once all registered resources were initially replaced. If more resource
handlers are registered before all relevant didReplace events were received, those are also waited
for.</p>
<h5 id="parameters_5">Parameters</h5>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td><code>Function</code></td>
<td>the function to call</td>
</tr>
<tr>
<td><em>optionalOptions</em></td>
<td><code>Boolean</code></td>
<td>an optional set of parameters to specify watch behavior</td>
</tr>
<tr>
<td><em>optionalOptions.watch</em></td>
<td><code>Boolean</code></td>
<td>if <code>true</code>, the callback will be called again whenever resources are modified after all were replaced at least once</td>
</tr>
</tbody>
</table>
<h5 id="returns_5">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#ResourceHandler"><code>ResourceHandler</code></a></td>
<td>this instance for chaining</td>
</tr>
</tbody>
</table>
<h4 id="resourcehandlerwereallreplaced"><a id="ResourceHandler.wereAllReplaced"></a>ResourceHandler.wereAllReplaced()</h4>
<p>Allows to find out if there are still outstanding resources, or if all resources have been replaced.
Can be used in update-/replace-handlers to determine if all dependencies are satisfied.</p>
<h5 id="returns_6">Returns</h5>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Boolean</code></td>
<td><code>true</code> if all resources registered with this handler (so far) have been replaced at least once, <code>false</code> if there are still outstanding resources</td>
</tr>
</tbody>
</table></main>
        </div>
      </div>

      <footer>
   <div class="container">
      <div class="ax-copyright">
         <span>
            
         </span>

         <ul class="ax-social">
            
               <li><a class="fa fa-twitter-square" target="_blank" href="https://twitter.com/laxarjs"></a></li>
            
            
               <li><a class="fa fa-rss-square" target="_blank" title="Subscribe to our RSS-feed" href="http://laxarjs.org/rss"></a></li>
            
         </ul>
      </div>
   </div>
</footer>

      <script src="../../../laxar.theme/js/jquery-1.10.2.min.js"></script>
      <script src="../../../laxar.theme/js/bootstrap-3.0.3.min.js"></script>
      <script src="../../../laxar.theme/js/base.js"></script>
   </body>
</html>