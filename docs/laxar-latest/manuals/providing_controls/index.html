<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../laxar.theme/img/favicon.ico">
        <title>LaxarJS  v2.0.3</title>

        <link rel="stylesheet" href="../../../laxar.theme/css/pygments.css">
        <link href="../../../laxar.theme/css/style.min.css" rel="stylesheet">

    </head>

    <body class="documentation">

      <header class="navbar  navbar-fixed-top" role="navigation">
    <div class="container">

        <div class="navbar-header navbar-inverse">
           <button class="navbar-toggle"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
          </button>
            <!-- Main title -->
            <a class="navbar-brand" href="http://www.laxarjs.org">
               <span class="ax-laxar-logo">Laxar<span>JS</span></span>
            </a>
         </div>

         <div class="navbar-collapse collapse navbar-inverse">
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         laxar <span class="caret"></span>
      </a>
         
         <ul class="dropdown-menu">
            
            <li><a href="../../../laxar-latest">laxar</a></li>
            
            <li><a href="../../../laxar-patterns-latest">laxar-patterns</a></li>
            
            <li><a href="../../../laxar-uikit-latest">laxar-uikit</a></li>
            
            <li><a href="../../../laxar-mocks-latest">laxar-mocks</a></li>
            
            <li><a href="../../../laxar-loader-latest">laxar-loader</a></li>
            
            <li><a href="../../../laxar-tooling-latest">laxar-tooling</a></li>
            
            <li><a href="../../../laxar-angular-adapter-latest">laxar-angular-adapter</a></li>
            
            <li><a href="../../../laxar-angular2-adapter-latest">laxar-angular2-adapter</a></li>
            
            <li><a href="../../../laxar-react-adapter-latest">laxar-react-adapter</a></li>
            
            <li><a href="../../../laxar-vue-adapter-latest">laxar-vue-adapter</a></li>
            
            <li><a href="../../../generator-laxarjs-latest">generator-laxarjs</a></li>
            
            <li><a href="../../../generator-laxarjs2-latest">generator-laxarjs2</a></li>
            
            <li><a href="../../../grunt-laxar-latest">grunt-laxar</a></li>
            
         </ul>
         
   </li>
</ul>
            <ul class="nav navbar-nav nav-pills ax-dropdown">
   <li role="presentation" class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
         v2.0.3 <span class="caret"></span>
      </a>
      
      <ul class="dropdown-menu">
         
            <li class="ax-dropdown-headline">Latest</li>
            
               <li><a href="../../../laxar-v2-latest">v2.0.3</a></li>
            
               <li><a href="../../../laxar-v1-latest">v1.3.5</a></li>
            
               <li><a href="../../../laxar-v0-latest">v0.26.2</a></li>
            
            <li role="separator" class="divider"></li>
         
         <li class="ax-dropdown-headline">All Releases</li>
         
            <li><a href="../../../laxar-v2.0.3">v2.0.3</a></li>
         
            <li><a href="../../../laxar-v2.0.2">v2.0.2</a></li>
         
            <li><a href="../../../laxar-v2.0.1">v2.0.1</a></li>
         
            <li><a href="../../../laxar-v2.0.0">v2.0.0</a></li>
         
            <li><a href="../../../laxar-v1.3.5">v1.3.5</a></li>
         
            <li><a href="../../../laxar-v1.3.4">v1.3.4</a></li>
         
            <li><a href="../../../laxar-v1.3.3">v1.3.3</a></li>
         
            <li><a href="../../../laxar-v1.3.2">v1.3.2</a></li>
         
            <li><a href="../../../laxar-v1.3.1">v1.3.1</a></li>
         
            <li><a href="../../../laxar-v1.3.0">v1.3.0</a></li>
         
            <li><a href="../../../laxar-v1.2.10">v1.2.10</a></li>
         
            <li><a href="../../../laxar-v1.2.9">v1.2.9</a></li>
         
            <li><a href="../../../laxar-v1.2.8">v1.2.8</a></li>
         
            <li><a href="../../../laxar-v1.2.7">v1.2.7</a></li>
         
            <li><a href="../../../laxar-v1.2.6">v1.2.6</a></li>
         
            <li><a href="../../../laxar-v1.2.5">v1.2.5</a></li>
         
            <li><a href="../../../laxar-v1.2.4">v1.2.4</a></li>
         
            <li><a href="../../../laxar-v1.2.3">v1.2.3</a></li>
         
            <li><a href="../../../laxar-v1.2.2">v1.2.2</a></li>
         
            <li><a href="../../../laxar-v1.2.1">v1.2.1</a></li>
         
            <li><a href="../../../laxar-v1.2.0">v1.2.0</a></li>
         
            <li><a href="../../../laxar-v1.1.0">v1.1.0</a></li>
         
            <li><a href="../../../laxar-v1.0.5">v1.0.5</a></li>
         
            <li><a href="../../../laxar-v1.0.4">v1.0.4</a></li>
         
            <li><a href="../../../laxar-v1.0.3">v1.0.3</a></li>
         
            <li><a href="../../../laxar-v1.0.2">v1.0.2</a></li>
         
            <li><a href="../../../laxar-v1.0.1">v1.0.1</a></li>
         
            <li><a href="../../../laxar-v1.0.0">v1.0.0</a></li>
         
            <li><a href="../../../laxar-v0.26.2">v0.26.2</a></li>
         
            <li><a href="../../../laxar-v0.26.1">v0.26.1</a></li>
         
            <li><a href="../../../laxar-v0.26.0">v0.26.0</a></li>
         
            <li><a href="../../../laxar-v0.25.1">v0.25.1</a></li>
         
            <li><a href="../../../laxar-v0.25.0">v0.25.0</a></li>
         
            <li><a href="../../../laxar-v0.24.0">v0.24.0</a></li>
         
            <li><a href="../../../laxar-v0.23.3">v0.23.3</a></li>
         
            <li><a href="../../../laxar-v0.23.2">v0.23.2</a></li>
         
            <li><a href="../../../laxar-v0.23.1">v0.23.1</a></li>
         
            <li><a href="../../../laxar-v0.23.0">v0.23.0</a></li>
         
            <li><a href="../../../laxar-v0.22.2">v0.22.2</a></li>
         
            <li><a href="../../../laxar-v0.22.1">v0.22.1</a></li>
         
            <li><a href="../../../laxar-v0.22.0">v0.22.0</a></li>
         
            <li><a href="../../../laxar-v0.21.0">v0.21.0</a></li>
         
            <li><a href="../../../laxar-v0.20.1">v0.20.1</a></li>
         
            <li><a href="../../../laxar-v0.20.0">v0.20.0</a></li>
         
            <li><a href="../../../laxar-v0.19.1">v0.19.1</a></li>
         
            <li><a href="../../../laxar-v0.19.0">v0.19.0</a></li>
         
            <li><a href="../../../laxar-v0.18.2">v0.18.2</a></li>
         
            <li><a href="../../../laxar-v0.18.1">v0.18.1</a></li>
         
            <li><a href="../../../laxar-v0.18.0">v0.18.0</a></li>
         
            <li><a href="../../../laxar-v0.17.1">v0.17.1</a></li>
         
            <li><a href="../../../laxar-v0.17.0">v0.17.0</a></li>
         
            <li><a href="../../../laxar-v0.16.2">v0.16.2</a></li>
         
            <li><a href="../../../laxar-v0.16.1">v0.16.1</a></li>
         
            <li><a href="../../../laxar-v0.16.0">v0.16.0</a></li>
         
            <li><a href="../../../laxar-v0.15.0">v0.15.0</a></li>
         
            <li><a href="../../../laxar-v0.14.0">v0.14.0</a></li>
         
            <li><a href="../../../laxar-v0.13.3">v0.13.3</a></li>
         
            <li><a href="../../../laxar-v0.13.2">v0.13.2</a></li>
         
            <li><a href="../../../laxar-v0.13.1">v0.13.1</a></li>
         
            <li><a href="../../../laxar-v0.13.0">v0.13.0</a></li>
         
            <li><a href="../../../laxar-v0.12.1">v0.12.1</a></li>
         
            <li><a href="../../../laxar-v0.12.0">v0.12.0</a></li>
         
            <li><a href="../../../laxar-v0.11.1">v0.11.1</a></li>
         
            <li><a href="../../../laxar-v0.11.0">v0.11.0</a></li>
         
            <li><a href="../../../laxar-v0.10.1">v0.10.1</a></li>
         
            <li><a href="../../../laxar-v0.10.0">v0.10.0</a></li>
         
            <li><a href="../../../laxar-v0.9.11">v0.9.11</a></li>
         
            <li><a href="../../../laxar-v0.9.10">v0.9.10</a></li>
         
            <li><a href="../../../laxar-v0.9.9">v0.9.9</a></li>
         
            <li><a href="../../../laxar-v0.9.8">v0.9.8</a></li>
         
            <li><a href="../../../laxar-v0.9.7">v0.9.7</a></li>
         
            <li><a href="../../../laxar-v0.9.6">v0.9.6</a></li>
         
            <li><a href="../../../laxar-v0.9.5">v0.9.5</a></li>
         
            <li><a href="../../../laxar-v0.9.4">v0.9.4</a></li>
         
            <li><a href="../../../laxar-v0.9.3">v0.9.3</a></li>
         
            <li><a href="../../../laxar-v0.9.2">v0.9.2</a></li>
         
            <li><a href="../../../laxar-v0.9.1">v0.9.1</a></li>
         
            <li><a href="../../../laxar-v0.9.0">v0.9.0</a></li>
         
      </ul>
      
   </li>
</ul>

            <ul class="nav navbar-nav">
               
                  
               
                  
                     <li >
                        <a href="../../CHANGELOG/">Changelog</a>
                     </li>
                  
               
                  
               
                  
               
                  
               
                  
               
                  
               
                  
               
                  
               
               
                <!-- Repo link -->
                
                <li>
                    <a class="ax-external" href="https://github.com/LaxarJS/laxar/tree/v2.0.3">
                       <i class="fa fa-github"></i> GitHub
                    </a>
                </li>
                
            </ul>
            <a class="ax-navbar-additional"
               target="_blank"
               href="http://laxarjs.github.io/widget-browser/#/widgetBrowser">Widgets</a>
        </div>
    </div>
</header>

      <div class="container content">
        <div class="row">
           <sidebar class="col-sm-4 col-xs-12"><div class="bs-sidebar hidden-print" role="complementary">
   <h3>Documentation</h3>
   <ul class="nav bs-sidenav">
   
      
         
            <li class="main"><a title="README" href="../..#start">README</a></li>
         
      
   
      
         
         
      
   
      
         
            <li class="main"><a title="LaxarJS Concepts" href="../../concepts/#start">LaxarJS Concepts</a></li>
         
      
   
      
         
            <li class="main"><a title="LaxarJS Glossary" href="../../glossary/#start">LaxarJS Glossary</a></li>
         
      
   
      
         
            <li class="main"><a title="LaxarJS Troubleshooting" href="../../troubleshooting/#start">LaxarJS Troubleshooting</a></li>
         
      
   
      
         
            <li class="main"><a title="Why LaxarJS?" href="../../why_laxar/#start">Why LaxarJS?</a></li>
         
      
   
      
         <li class="main ax-collapse " >
            <a class="ax-link"
               href="javascript:void(0)"
               title="API"
               data-toggle="collapse"
               data-target="#API"
               aria-expanded="false"
               aria-controls="collapseExample">API <span class="caret"></span></a>

            <ul class="nav subnav collapse"
               id="API">
               
               <li >
                  <a title="Overview" href="../../api/#start">Overview</a>
               </li>
               
               <li >
                  <a title="adapter_utilities" href="../../api/runtime.adapter_utilities/#start">adapter_utilities</a>
               </li>
               
               <li >
                  <a title="assert" href="../../api/utilities.assert/#start">assert</a>
               </li>
               
               <li >
                  <a title="browser" href="../../api/runtime.browser/#start">browser</a>
               </li>
               
               <li >
                  <a title="configuration" href="../../api/runtime.configuration/#start">configuration</a>
               </li>
               
               <li >
                  <a title="configuration_mock" href="../../api/testing.configuration_mock/#start">configuration_mock</a>
               </li>
               
               <li >
                  <a title="control_loader" href="../../api/loaders.control_loader/#start">control_loader</a>
               </li>
               
               <li >
                  <a title="event_bus" href="../../api/runtime.event_bus/#start">event_bus</a>
               </li>
               
               <li >
                  <a title="event_bus_mock" href="../../api/testing.event_bus_mock/#start">event_bus_mock</a>
               </li>
               
               <li >
                  <a title="flow_service" href="../../api/runtime.flow_service/#start">flow_service</a>
               </li>
               
               <li >
                  <a title="flow_service_mock" href="../../api/testing.flow_service_mock/#start">flow_service_mock</a>
               </li>
               
               <li >
                  <a title="heartbeat" href="../../api/runtime.heartbeat/#start">heartbeat</a>
               </li>
               
               <li >
                  <a title="heartbeat_mock" href="../../api/testing.heartbeat_mock/#start">heartbeat_mock</a>
               </li>
               
               <li >
                  <a title="i18n_mock" href="../../api/testing.widget_services_i18n_mock/#start">i18n_mock</a>
               </li>
               
               <li >
                  <a title="laxar" href="../../api/laxar/#start">laxar</a>
               </li>
               
               <li >
                  <a title="laxar-widget-service-mocks" href="../../api/laxar-widget-service-mocks/#start">laxar-widget-service-mocks</a>
               </li>
               
               <li >
                  <a title="log" href="../../api/runtime.log/#start">log</a>
               </li>
               
               <li >
                  <a title="log_mock" href="../../api/testing.log_mock/#start">log_mock</a>
               </li>
               
               <li >
                  <a title="navigo_router" href="../../api/runtime.navigo_router/#start">navigo_router</a>
               </li>
               
               <li >
                  <a title="object" href="../../api/utilities.object/#start">object</a>
               </li>
               
               <li >
                  <a title="pages" href="../../api/tooling.pages/#start">pages</a>
               </li>
               
               <li >
                  <a title="plain_adapter" href="../../api/runtime.plain_adapter/#start">plain_adapter</a>
               </li>
               
               <li >
                  <a title="storage" href="../../api/runtime.storage/#start">storage</a>
               </li>
               
               <li >
                  <a title="storage_mock" href="../../api/testing.storage_mock/#start">storage_mock</a>
               </li>
               
               <li >
                  <a title="string" href="../../api/utilities.string/#start">string</a>
               </li>
               
               <li >
                  <a title="tooling" href="../../api/tooling.tooling/#start">tooling</a>
               </li>
               
               <li >
                  <a title="widget_services" href="../../api/runtime.widget_services/#start">widget_services</a>
               </li>
               
               <li >
                  <a title="widget_services_area_helper_mock" href="../../api/testing.widget_services_area_helper_mock/#start">widget_services_area_helper_mock</a>
               </li>
               
               <li >
                  <a title="widget_services_assets_mock" href="../../api/testing.widget_services_assets_mock/#start">widget_services_assets_mock</a>
               </li>
               
               <li >
                  <a title="widget_services_i18n" href="../../api/runtime.widget_services_i18n/#start">widget_services_i18n</a>
               </li>
               
               <li >
                  <a title="widget_services_storage_mock" href="../../api/testing.widget_services_storage_mock/#start">widget_services_storage_mock</a>
               </li>
               
               <li >
                  <a title="widget_services_visibility" href="../../api/runtime.widget_services_visibility/#start">widget_services_visibility</a>
               </li>
               
               <li >
                  <a title="widget_services_visibility_mock" href="../../api/testing.widget_services_visibility_mock/#start">widget_services_visibility_mock</a>
               </li>
               
            </ul>
         </li>
      
   
      
         <li class="main ax-collapse " >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Contributing"
               data-toggle="collapse"
               data-target="#Contributing"
               aria-expanded="false"
               aria-controls="collapseExample">Contributing <span class="caret"></span></a>

            <ul class="nav subnav collapse"
               id="Contributing">
               
               <li >
                  <a title="LaxarJS Coding Styles" href="../../contributing/styleguide/#start">LaxarJS Coding Styles</a>
               </li>
               
            </ul>
         </li>
      
   
      
         <li class="main ax-collapse ax-active" >
            <a class="ax-link"
               href="javascript:void(0)"
               title="Manuals"
               data-toggle="collapse"
               data-target="#Manuals"
               aria-expanded="false"
               aria-controls="collapseExample">Manuals <span class="caret"></span></a>

            <ul class="nav subnav in"
               id="Manuals">
               
               <li >
                  <a title="Overview" href="../#start">Overview</a>
               </li>
               
               <li >
                  <a title="Assets and the Artifacts Bundle" href="../asset_lookup/#start">Assets and the Artifacts Bundle</a>
               </li>
               
               <li class="ax-active">
                  <a title="Controls and Libraries" href="./#start">Controls and Libraries</a>
               </li>
               
               <li >
                  <a title="Creating Themes" href="../creating_themes/#start">Creating Themes</a>
               </li>
               
               <li >
                  <a title="Creating a Project from Scratch" href="../project_from_scratch/#start">Creating a Project from Scratch</a>
               </li>
               
               <li >
                  <a title="Creating an Adapter for a new Widget Technology" href="../adapters/#start">Creating an Adapter for a new Widget Technology</a>
               </li>
               
               <li >
                  <a title="Events and Publish-Subscribe" href="../events/#start">Events and Publish-Subscribe</a>
               </li>
               
               <li >
                  <a title="Flow and Places" href="../flow_and_places/#start">Flow and Places</a>
               </li>
               
               <li >
                  <a title="Infrastructure and Tools" href="../infrastructure_and_tools/#start">Infrastructure and Tools</a>
               </li>
               
               <li >
                  <a title="Installing Controls" href="../installing_controls/#start">Installing Controls</a>
               </li>
               
               <li >
                  <a title="Installing Third Party Widgets" href="../installing_widgets/#start">Installing Third Party Widgets</a>
               </li>
               
               <li >
                  <a title="Internationalizing a Widget" href="../i18n/#start">Internationalizing a Widget</a>
               </li>
               
               <li >
                  <a title="LaxarJS Configuration in an Application" href="../configuration/#start">LaxarJS Configuration in an Application</a>
               </li>
               
               <li >
                  <a title="The <code>&quot;plain&quot;</code> Integration Technology" href="../plain_adapter/#start">The <code>&quot;plain&quot;</code> Integration Technology</a>
               </li>
               
               <li >
                  <a title="Upgrading LaxarJS" href="../upgrade_guide/#start">Upgrading LaxarJS</a>
               </li>
               
               <li >
                  <a title="Widget Services" href="../widget_services/#start">Widget Services</a>
               </li>
               
               <li >
                  <a title="Widgets and Activities" href="../widgets_and_activities/#start">Widgets and Activities</a>
               </li>
               
               <li >
                  <a title="Working with Visibility Events" href="../visibility_events/#start">Working with Visibility Events</a>
               </li>
               
               <li >
                  <a title="Writing Compositions" href="../writing_compositions/#start">Writing Compositions</a>
               </li>
               
               <li >
                  <a title="Writing Pages" href="../writing_pages/#start">Writing Pages</a>
               </li>
               
            </ul>
         </li>
      
   
    </ul>
</div></sidebar>
           <main class="col-sm-8 col-xs-12 " role="main">

<a name="start" class="ax-anchor"></a>
<h1 id="controls-and-libraries">Controls and Libraries</h1>
<p><a href="../">« return to the manuals</a></p>
<p>In LaxarJS, any non-trivial HTML element, <a href="http://webcomponents.org/">HTML5 Web Component</a> or <a href="https://docs.angularjs.org/guide/directive">AngularJS directive</a> is considered a <em>control</em>.
While widgets and activities deal with business logic, controls handle the technical details of user interaction.</p>
<p>Preliminary readings:</p>
<ul>
<li><a href="../../concepts/">LaxarJS Core Concepts</a></li>
<li><a href="../widgets_and_activities/">Widgets and Activities</a></li>
</ul>
<p>To provide their business logic, widgets and activities often depend on <em>libraries,</em> which might be created by third parties or simply be used to share common functionality. Examples of libraries commonly used by LaxarJS widgets include:</p>
<ul>
<li><a href="https://momentjs.com/">moment.js</a></li>
<li><a href="https://laxarjs.org/docs/laxar-patterns-latest/">LaxarJS Patterns</a></li>
<li><a href="https://jquery.com/">jQuery</a></li>
</ul>
<p>On the other hand, here are some examples of controls:</p>
<ul>
<li>a select box</li>
<li>a tab control</li>
<li>a <a href="https://www.npmjs.com/package/laxar-date-picker-control">date picker</a></li>
<li>an <a href="https://www.npmjs.com/package/laxar-accordion-control">accordion control</a></li>
</ul>
<p>LaxarJS helps when developing a custom control by managing and loading its JavaScript implementation module, as well as its theme-dependent CSS stylesheet for you.
If (and only if) you <em>use</em> a control in one or more widgets, LaxarJS will load its CSS according to the current <a href="../creating_themes/">theme</a>, just like with widgets and layouts.
When you remove the control from your widget, or the widget from your page, its code and assets will no longer increase your application footprint.
This allows you to create and distribute large libraries of controls without fear of application bloat.</p>
<h2 id="creating-or-integrating-a-control">Creating or Integrating a Control</h2>
<p>The exact structure of a control depends on the integration technology that is used to create the control and to integrate it into the application.
Throughout this manual, we use the <code>"angular"</code> integration technology for our examples.
Note that controls can only be used by widgets that use the same integration technology.
The only exception is the built-in integration technology <code>"plain"</code>, which can be used by any widget, but may be difficult to use correctly from some widget integration technologies.
The <a href="../plain_adapter/">plain adapter documentation</a> explains how these controls are used.</p>
<h3 id="creating-an-angular-control-using-a-directive">Creating an <code>angular</code> Control using a Directive</h3>
<p>LaxarJS does not care whether your control is installed through npm or Bower, or if it is located somewhere else within your project, as long as its <code>control.json</code> descriptor can be found by the laxar loader (for webpack).
Let us try to create a control <em>my-clock-control</em> that displays a digital clock to the user.</p>
<h4 id="controls-directory">Controls Directory</h4>
<p>First, choose a location for your control within your application, such as <code>application/controls/my-clock</code>.
The path <code>application/controls/</code> is the <em>controls-root</em>, and can be overwritten by creating a <code>laxar.config.js</code> with <code>paths.controls</code> export.</p>
<h4 id="the-control-descriptor">The Control Descriptor</h4>
<p>Just like widgets, controls have a small JSON descriptor <em>(control.json)</em> which instructs the runtime on how to load the control, and where to look for styles.
Here is the descriptor for our clock control:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;my-clock-control&quot;</span><span class="p">,</span>
   <span class="nt">&quot;integration&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;technology&quot;</span><span class="p">:</span> <span class="s2">&quot;angular&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>To ensure compatibility between each widget and its controls, both must use the same <em>integration technology</em>.
The technology <code>"plain"</code> is supported for controls out-of-the-box, and other technologies can be added through <em>adapters</em>, such as the <a href="../laxarjs.org/docs/laxar-angular-adapter-v2-latest/">laxar-angular-adapter</a>.
The <em>name</em> allows the LaxarJS runtime to load the correct implementation module and the right CSS styles.
So even if using a folder of a different name, or a control installed from npm, the runtime would still be able to load the control.</p>
<h4 id="angularjs-directive">AngularJS Directive</h4>
<p>Now let us create the AngularJS module for the control, in <code>application/controls/my-clock-control/my-clock-control.js</code>:</p>
<div class="codehilite"><pre><span></span><span class="nx">define</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;angular&#39;</span><span class="p">,</span> <span class="s1">&#39;text!./my-clock-control.html&#39;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">ng</span><span class="p">,</span> <span class="nx">clockTemplate</span> <span class="p">)</span> <span class="p">{</span>
   <span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

   <span class="kd">var</span> <span class="nx">module</span> <span class="o">=</span> <span class="nx">ng</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span> <span class="s1">&#39;myClockControl&#39;</span><span class="p">,</span> <span class="p">[]</span> <span class="p">);</span>

   <span class="nx">module</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="s1">&#39;myClockDigits&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">number</span> <span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="p">(</span> <span class="nx">number</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">?</span> <span class="s1">&#39;0&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">number</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span> <span class="p">);</span>

   <span class="k">return</span> <span class="nx">module</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span> <span class="s1">&#39;myClock&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="s1">&#39;$timeout&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">$timeout</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span>
         <span class="nx">restrict</span><span class="o">:</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span>
         <span class="nx">template</span><span class="o">:</span> <span class="nx">clockTemplate</span><span class="p">,</span>
         <span class="nx">link</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">$scope</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">tick</span><span class="p">();</span>
            <span class="kd">function</span> <span class="nx">tick</span><span class="p">()</span> <span class="p">{</span>
               <span class="nx">$scope</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
               <span class="nx">$timeout</span><span class="p">(</span> <span class="nx">tick</span><span class="p">,</span> <span class="mi">1000</span> <span class="p">);</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">};</span>

   <span class="p">}</span> <span class="p">]</span> <span class="p">);</span>

<span class="p">}</span> <span class="p">);</span>
</pre></div>


<p>We use a prefix <em>(my)</em> for the control and for the filter- and directive-names to avoid collisions with other controls and directives, as well as future HTML elements.</p>
<h4 id="angularjs-template">AngularJS Template</h4>
<p>Let us create a simple template at <code>application/controls/my-clock-control/my-clock-control.html</code>.</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;my-clock&quot;</span><span class="p">&gt;</span>
   {{ date.getHours() | myClockDigits }}:{{ date.getMinutes() | myClockDigits }}:{{ date.getSeconds() | myClockDigits }}
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</pre></div>


<p>It is recommended to use the control name as a prefix for any custom CSS classes as shown here, to avoid collision with other controls and libraries.</p>
<h4 id="the-css-style-sheet">The CSS Style Sheet</h4>
<p>To automatically load your CSS depending on the theme, it has to be placed into a sub-directory <code>default.theme/css</code> of your require path and its file name must correspond to the control descriptor.
In case of the clock control, the correct path would be <code>application/controls/my-clock-control/default.theme/my-clock-control.css</code>.</p>
<div class="codehilite"><pre><span></span><span class="p">.</span><span class="nc">my-clock</span> <span class="p">{</span>
   <span class="k">font-family</span><span class="p">:</span> <span class="s1">&#39;Times New Roman&#39;</span><span class="p">,</span> <span class="kc">serif</span><span class="p">;</span>
   <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
   <span class="k">font-size</span><span class="p">:</span> <span class="mi">36</span><span class="kt">px</span><span class="p">;</span>
   <span class="k">border</span><span class="p">:</span> <span class="mi">3</span><span class="kt">px</span> <span class="kc">double</span> <span class="kc">black</span><span class="p">;</span>
   <span class="k">padding</span><span class="p">:</span> <span class="mi">3</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>Not that for controls, <em>theme folders</em> are only used for stylesheets, not for templates.</p>
<h3 id="using-a-control-from-a-widget">Using a Control from a Widget</h3>
<p>Any widget that uses our clock should declare its dependency using <code>controls</code> entry in its <code>widget.json</code>:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;controls&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;my-clock-control&quot;</span> <span class="p">],</span>
</pre></div>


<p>This allows the runtime to load control module and to register the AngularJS module during bootstrapping.
Additionally this causes the control CSS to be loaded from the correct theme, and to be bundled when creating a release-version of your application.</p>
<p>To actually get the control onto the screen, you have to reference it from your widget's HTML template:</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>My Widget, now with 100% more 24h-clock!<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">my-clock</span><span class="p">&gt;&lt;/</span><span class="nt">my-clock</span><span class="p">&gt;</span>
</pre></div>


<p>After adding your widget to a page, you may inspect your timepiece in the browser:</p>
<p><img alt="my-clock-control in action" src="../providing_controls/my_clock.png" /></p>
<h2 id="creating-or-integrating-a-library">Creating or Integrating a Library</h2>
<p>Adding custom libraries is even simpler than adding controls, because usually they do not need to load theme-specific CSS or to have their AngularJS modules managed by the <a href="http://laxarjs.org/docs/laxar-angular-adapter-v2-latest/">laxar-angular-adapter</a> -- if they do, try turning them into controls or activities respectively.
Just put the library somewhere within your project (preferably using npm) and make sure that it can be resolved and loaded by webpack.</p></main>
        </div>
      </div>

      <footer>
   <div class="container">
      <div class="ax-copyright">
         <span>
            
         </span>

         <ul class="ax-social">
            
               <li><a class="fa fa-twitter-square" target="_blank" href="https://twitter.com/laxarjs"></a></li>
            
            
               <li><a class="fa fa-rss-square" target="_blank" title="Subscribe to our RSS-feed" href="http://laxarjs.org/rss"></a></li>
            
         </ul>
      </div>
   </div>
</footer>

      <script src="../../../laxar.theme/js/jquery-1.10.2.min.js"></script>
      <script src="../../../laxar.theme/js/bootstrap-3.0.3.min.js"></script>
      <script src="../../../laxar.theme/js/base.js"></script>
   </body>
</html>